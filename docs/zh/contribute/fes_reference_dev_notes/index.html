<!DOCTYPE html><html><head><meta charset=utf-8><meta content="width=device-width,initial-scale=1" name=viewport><link href=/_astro/_slug_.C79K3bky.css rel=stylesheet></head><body><nav><ul><a href=/zh/ >Home</a> <a href=/zh/reference>Reference</a> <a href=/zh/tutorials>Tutorials</a> <a href=/zh/examples>Examples</a> <a href=/zh/community>Community</a> <a href=/zh/about>About</a> <a href=/zh/contribute>Contribute</a></ul></nav><div class="flex space-x-2"><select id=locale-select><option value=/contribute//fes_reference_dev_notes/ >English</option><option value=/ar/contribute//fes_reference_dev_notes/ >Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option><option value=/es/contribute//fes_reference_dev_notes/ >espaÃ±ol</option><option value=/hi/contribute//fes_reference_dev_notes/ >à¤¹à¤¿à¤¨à¥à¤¦à¥€</option><option value=/ko/contribute//fes_reference_dev_notes/ >í•œêµ­ì–´</option><option value=/pt-br/contribute//fes_reference_dev_notes/ >portuguÃªs (Brasil)</option><option value=/sk/contribute//fes_reference_dev_notes/ >slovenÄina</option><option value=/zh/contribute//fes_reference_dev_notes/ selected=true>ä¸­æ–‡</option></select><script>document.getElementById("locale-select")?.addEventListener("change",(function(){window.location.href=this.value}))</script><div><form action=/search method=GET role=search><label for=search-term>Search</label> <input aria-label="Search through site content" class="border border-black" id=search-term name=term required="" type=search> <button type=submit>Search</button></form></div><div>Language: zh</div><div>Accessibility</div></div><h1 class="font-bold text-lg">Placeholder title</h1><span></span><main><h1 id=fes-å¼€å‘è€…å‚è€ƒå’Œæ³¨é‡Š>FES å¼€å‘è€…å‚è€ƒå’Œæ³¨é‡Š</h1><p>æœ¬æ–‡æ¡£åŒ…å« p5.js å‹å¥½é”™è¯¯ç³»ç»Ÿï¼ˆFESï¼‰çš„å‚è€ƒå’Œå¼€å‘æ³¨é‡Šã€‚FES åŒ…å«å¤šä¸ªå‡½æ•°ï¼Œè´Ÿè´£ä¸ºä¸åŒç±»å‹çš„é”™è¯¯ç”Ÿæˆå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚è¿™äº›å‡½æ•°ä»å„ä¸ªä½ç½®æ”¶é›†é”™è¯¯ï¼ŒåŒ…æ‹¬æµè§ˆå™¨è§¦å‘çš„é”™è¯¯äº‹ä»¶ã€æ‰«æç”¨æˆ·ä»£ç æ—¶å‘ç°çš„é”™è¯¯ã€åº“å†…éƒ¨çš„å‚æ•°æ£€æŸ¥ç­‰ã€‚</p><p>ç”Ÿæˆå‹å¥½é”™è¯¯æ¶ˆæ¯çš„ä¸»è¦å‡½æ•°æœ‰ï¼š</p><ul><li><code>_validateParameters()</code></li><li><code>_friendlyFileLoadError()</code></li><li><code>_friendlyError()</code></li><li><code>helpForMisusedAtTopLevelCode()</code></li><li><code>_fesErrorMontitor()</code></li></ul><p>è¿™äº›å‡½æ•°ä½äº <code>core/friendly_errors/</code> æ–‡ä»¶å¤¹ä¸­ã€‚</p><ul><li><code>fes_core.js</code> åŒ…å« FES çš„æ ¸å¿ƒåŠŸèƒ½å’Œå…¶ä»–æ‚é¡¹åŠŸèƒ½ã€‚</li><li><code>_validateParameters()</code> ä½äº <code>validate_params.js</code> ä¸­ï¼Œä¸ç”¨äºå‚æ•°éªŒè¯çš„å…¶ä»–ä»£ç ä¸€èµ·ã€‚</li><li><code>_friendlyFileLoadError()</code> ä½äº <code>file_errors.js</code> ä¸­ï¼Œä¸å¤„ç†æ–‡ä»¶åŠ è½½é”™è¯¯çš„å…¶ä»–ä»£ç ä¸€èµ·ã€‚</li><li>æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªåä¸º <code>stacktrace.js</code> çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«è§£æé”™è¯¯å †æ ˆçš„ä»£ç ï¼Œæ¥è‡ªäºï¼š<a href=https://github.com/stacktracejs/stacktrace.js>https://github.com/stacktracejs/stacktrace.js</a></li></ul><p>ä¸‹é¢çš„éƒ¨åˆ†ä»‹ç»äº† FES å‡½æ•°çš„å®Œæ•´å‚è€ƒã€‚</p><h2 id=fes-å‡½æ•°å‚è€ƒ>FES å‡½æ•°ï¼šå‚è€ƒ</h2><h3 id=_report><code>_report()</code></h3><h5 id=æè¿°>æè¿°</h5><p><code>_report()</code> æ˜¯ä¸€ä¸ªä¸»è¦å‡½æ•°ï¼Œç›´æ¥å°†é”™è¯¯åŠ©æ‰‹æ¶ˆæ¯çš„è¾“å‡ºæ‰“å°åˆ°æ§åˆ¶å°ã€‚ å¦‚æœè®¾ç½®äº† <code>_fesLogger</code>ï¼ˆå³æˆ‘ä»¬æ­£åœ¨è¿è¡Œæµ‹è¯•ï¼‰ï¼Œ<code>_report</code> å°†è°ƒç”¨ <code>_fesLogger</code> è€Œä¸æ˜¯ console.logã€‚</p><h5 id=è¯­æ³•>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_report(message)</span></span></code></pre><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_report(message, func)</span></span></code></pre><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_report(message, func, color)</span></span></code></pre><h5 id=å‚æ•°>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param  {String}        message   è¦æ‰“å°çš„æ¶ˆæ¯</span></span>
<span class=line><span>@param  {String}        [func]    å‡½æ•°åç§°</span></span>
<span class=line><span>@param  {Number|String} [color]   CSS é¢œè‰²ä»£ç </span></span></code></pre><h5 id=ä½ç½®>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h3 id=_friendlyerror><code>_friendlyError()</code></h3><h5 id=æè¿°-1>æè¿°</h5><p><code>_friendlyError()</code> åˆ›å»ºå¹¶æ‰“å°å‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚ä»»ä½•p5å‡½æ•°éƒ½å¯ä»¥è°ƒç”¨æ­¤å‡½æ•°ä»¥æä¾›å‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><p>å·²å®ç°çš„å‡½æ•°ï¼š</p><ul><li><code>core/friendly_errors/fes_core/fesErrorMonitor()</code></li><li><code>core/friendly_errors/fes_core/checkForUserDefinedFunctions()</code></li><li><code>core/friendly_errors/fes_core/handleMisspelling()</code></li><li><code>core/friendly_errors/fes_core/processStack()</code></li><li><code>core/friendly_errors/file_errors</code></li><li><code>core/friendly_errors/sketch_reader</code></li><li><code>core/friendly_errors/validate_params/_friendlyParamError()</code></li><li><code>core/main/_createFriendlyGlobalFunctionBinder()</code></li><li><code>core/shape/vertex</code></li><li><code>math/p5.Vector</code></li></ul><p>å¯¹<code>_friendlyError</code>çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyError</span></span>
<span class=line><span>  _report</span></span></code></pre><h5 id=è¯­æ³•-1>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyError(message)</span></span></code></pre><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyError(message, func)</span></span></code></pre><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyError(message, func, color)</span></span></code></pre><h5 id=å‚æ•°-1>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param  {String}        message   è¦æ‰“å°çš„æ¶ˆæ¯</span></span>
<span class=line><span>@param  {String}        [func]    å‡½æ•°çš„åç§°</span></span>
<span class=line><span>@param  {Number|String} [color]   CSSé¢œè‰²ä»£ç </span></span></code></pre><h5 id=ä½ç½®-1>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h3 id=_friendlyfileloaderror><code>_friendlyFileLoadError()</code></h3><h5 id=æè¿°-2>æè¿°</h5><p>å¦‚æœåœ¨æ–‡ä»¶åŠ è½½è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œ<code>_friendlyFileLoadError()</code> å°†è¢«<code>loadX()</code>å‡½æ•°è°ƒç”¨ã€‚</p><p>ä½¿ç”¨é”®å€¼<code>fes.fileLoadError.*</code>ç”Ÿæˆå¹¶æ‰“å°å‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><p>å¦‚æœæ–‡ä»¶åŠ è½½å¤±è´¥ï¼Œæ­¤å‡½æ•°å°†ç”Ÿæˆå¹¶æ˜¾ç¤ºå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚å¦‚æœæ–‡ä»¶çš„å¤§å°è¿‡å¤§æ— æ³•åŠ è½½ï¼Œå®ƒè¿˜ä¼šè¿›è¡Œæ£€æŸ¥å¹¶ç”Ÿæˆè­¦å‘Šã€‚</p><p>å½“å‰ç‰ˆæœ¬ä¸­åŒ…å«ç”¨äºç”Ÿæˆ<code>image</code>ã€<code>XML</code>ã€<code>table</code>ã€<code>text</code>ã€<code>json</code>å’Œ<code>font</code>æ–‡ä»¶çš„é”™è¯¯æ¶ˆæ¯æ¨¡æ¿ã€‚</p><p>å·²å®ç°çš„å‡½æ•°ï¼š</p><ul><li><code>image/loading_displaying/loadImage()</code></li><li><code>io/files/loadFont()</code></li><li><code>io/files/loadTable()</code></li><li><code>io/files/loadJSON()</code></li><li><code>io/files/loadStrings()</code></li><li><code>io/files/loadXML()</code></li><li><code>io/files/loadBytes()</code>ã€‚</li></ul><p>å¯¹<code>_friendlyFileLoadError</code>çš„è°ƒç”¨é¡ºåºå¦‚ä¸‹ï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyFileLoadError</span></span>
<span class=line><span>  _report</span></span></code></pre><h5 id=è¯­æ³•-2>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_friendlyFileLoadError(errorType, filePath)</span></span></code></pre><h5 id=å‚æ•°-2>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param  {Number}  errorType   æ–‡ä»¶åŠ è½½é”™è¯¯ç±»å‹çš„æ•°å­—</span></span>
<span class=line><span>@param  {String}  filePath    å¼•èµ·é”™è¯¯çš„æ–‡ä»¶è·¯å¾„</span></span></code></pre><h5 id=ç¤ºä¾‹>ç¤ºä¾‹</h5><ins>æ–‡ä»¶åŠ è½½é”™è¯¯ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>/// missing font file</span></span>
<span class=line><span>let myFont;</span></span>
<span class=line><span>function preload() {</span></span>
<span class=line><span>  myFont = loadFont('assets/OpenSans-Regular.ttf');</span></span>
<span class=line><span>};</span></span>
<span class=line><span>function setup() {</span></span>
<span class=line><span>  fill('#ED225D');</span></span>
<span class=line><span>  textFont(myFont);</span></span>
<span class=line><span>  textSize(36);</span></span>
<span class=line><span>  text('p5*js', 10, 50);</span></span>
<span class=line><span>};</span></span>
<span class=line><span>function draw() {};</span></span></code></pre><p>FESä¼šåœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js says: çœ‹èµ·æ¥åŠ è½½å­—ä½“æ–‡ä»¶æ—¶å‡ºç°äº†é—®é¢˜ã€‚è¯·æ£€æŸ¥æ–‡ä»¶è·¯å¾„ [assets/OpenSans-Regular.ttf] æ˜¯å¦æ­£ç¡®ï¼Œå°è¯•å°†å­—ä½“æ–‡ä»¶æ‰˜ç®¡åˆ°åœ¨çº¿æœåŠ¡å™¨ä¸Šï¼Œæˆ–è€…è¿è¡Œæœ¬åœ°æœåŠ¡å™¨ã€‚[<a href=https://github.com/processing/p5.js/wiki/Local-server>https://github.com/processing/p5.js/wiki/Local-server</a>]</p></blockquote><h5 id=ä½ç½®-2>ä½ç½®</h5><p>core/friendly_errors/file_errors.js</p><h3 id=validateparameters><code>validateParameters()</code></h3><h5 id=æè¿°-3>æè¿°</h5><p><code>validateParameters()</code> é€šè¿‡å°†è¾“å…¥å‚æ•°ä¸ä»å‡½æ•°çš„å†…è”æ–‡æ¡£ä¸­åˆ›å»ºçš„ <code>docs/reference/data.json</code> çš„ä¿¡æ¯è¿›è¡ŒåŒ¹é…ï¼Œæ‰§è¡Œå‚æ•°éªŒè¯ã€‚å®ƒæ£€æŸ¥å‡½æ•°è°ƒç”¨æ˜¯å¦åŒ…å«äº†æ­£ç¡®æ•°é‡å’Œæ­£ç¡®ç±»å‹çš„å‚æ•°ã€‚</p><p>ä½¿ç”¨é”®å€¼ <code>fes.friendlyParamError.*</code> ç”Ÿæˆå¹¶æ‰“å°å‹å¥½çš„é”™è¯¯æ¶ˆæ¯ã€‚</p><p>å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è°ƒç”¨è¯¥å‡½æ•°ï¼š<code>p5._validateParameters(FUNCT_NAME, ARGUMENTS)</code> æˆ–è€…åœ¨éœ€è¦å‚æ•°éªŒè¯çš„å‡½æ•°å†…éƒ¨ä½¿ç”¨ <code>p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)</code>ã€‚å»ºè®®åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ä½¿ç”¨é™æ€ç‰ˆæœ¬ <code>p5._validateParameters</code>ã€‚<code>p5.prototype._validateParameters(FUNCT_NAME, ARGUMENTS)</code> ä¸»è¦ç”¨äºè°ƒè¯•å’Œå•å…ƒæµ‹è¯•ã€‚</p><p>å·²åœ¨ä»¥ä¸‹å‡½æ•°ä¸­å®ç°ï¼š</p><ul><li><code>accessibility/outputs</code></li><li><code>color/creating_reading</code></li><li><code>color/setting</code></li><li><code>core/environment</code></li><li><code>core/rendering</code></li><li><code>core/shape/2d_primitives</code></li><li><code>core/shape/attributes</code></li><li><code>core/shape/curves</code></li><li><code>core/shape/vertex</code></li><li><code>core/transform</code></li><li><code>data/p5.TypedDict</code></li><li><code>dom/dom</code></li><li><code>events/acceleration</code></li><li><code>events/keyboard</code></li><li><code>image/image</code></li><li><code>image/loading_displaying</code></li><li><code>image/p5.Image</code></li><li><code>image/pixel</code></li><li><code>io/files</code></li><li><code>math/calculation</code></li><li><code>math/random</code></li><li><code>typography/attributes</code></li><li><code>typography/loading_displaying</code></li><li><code>utilities/string_functions</code></li><li><code>webgl/3d_primitives</code></li><li><code>webgl/interaction</code></li><li><code>webgl/light</code></li><li><code>webgl/loading</code></li><li><code>webgl/material</code></li><li><code>webgl/p5.Camera</code></li></ul><p>æ¥è‡ª <code>_validateParameters</code> çš„è°ƒç”¨é¡ºåºå¤§è‡´å¦‚ä¸‹ï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>validateParameters</span></span>
<span class=line><span>   buildArgTypeCache</span></span>
<span class=line><span>      addType</span></span>
<span class=line><span>    lookupParamDoc</span></span>
<span class=line><span>    scoreOverload</span></span>
<span class=line><span>      testParamTypes</span></span>
<span class=line><span>      testParamType</span></span>
<span class=line><span>    getOverloadErrors</span></span>
<span class=line><span>    _friendlyParamError</span></span>
<span class=line><span>      ValidationError</span></span>
<span class=line><span>      report</span></span>
<span class=line><span>        friendlyWelcome</span></span></code></pre><h5 id=è¯­æ³•-3>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>_validateParameters(func, args)</span></span></code></pre><h5 id=å‚æ•°-3>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param  {String}  func    å‡½æ•°å</span></span>
<span class=line><span>@param  {Array}   args    ç”¨æˆ·è¾“å…¥çš„å‚æ•°</span></span></code></pre><h5 id=ç¤ºä¾‹-1>ç¤ºä¾‹</h5><ins>ç¼ºå°‘å‚æ•°çš„ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>arc(1, 1, 10.5, 10);</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js è¯´ï¼šçœ‹èµ·æ¥arc()åœ¨ä½ç½®#4ï¼ˆä»é›¶å¼€å§‹çš„ç´¢å¼•ï¼‰æ”¶åˆ°äº†ä¸€ä¸ªç©ºå˜é‡ã€‚å¦‚æœä¸æ˜¯æ•…æ„çš„ï¼Œè¿™é€šå¸¸æ˜¯ä½œç”¨åŸŸé—®é¢˜ï¼š[<a href=https://p5js.org/examples/data-variable-scope.html%5D%E3%80%82%5Bhttp://p5js.org/reference/#p5/arc>https://p5js.org/examples/data-variable-scope.html]ã€‚[http://p5js.org/reference/#p5/arc</a>]</p></blockquote><blockquote><p>ğŸŒ¸ p5.js è¯´ï¼šçœ‹èµ·æ¥arc()åœ¨ä½ç½®#5ï¼ˆä»é›¶å¼€å§‹çš„ç´¢å¼•ï¼‰æ”¶åˆ°äº†ä¸€ä¸ªç©ºå˜é‡ã€‚å¦‚æœä¸æ˜¯æ•…æ„çš„ï¼Œè¿™é€šå¸¸æ˜¯ä½œç”¨åŸŸé—®é¢˜ï¼š[<a href=https://p5js.org/examples/data-variable-scope.html%5D%E3%80%82%5Bhttp://p5js.org/reference/#p5/arc>https://p5js.org/examples/data-variable-scope.html]ã€‚[http://p5js.org/reference/#p5/arc</a>]</p></blockquote><ins>ç±»å‹ä¸åŒ¹é…çš„ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>arc('1', 1, 10.5, 10, 0, Math.PI, 'pie');</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js è¯´ï¼šarc()åœ¨å‚æ•°#0ï¼ˆä»é›¶å¼€å§‹çš„ç´¢å¼•ï¼‰å¤„æœŸæœ›æ¥æ”¶Numberï¼Œä½†æ”¶åˆ°äº†å­—ç¬¦ä¸²ã€‚[<a href=http://p5js.org/reference/#/p5/arc>http://p5js.org/reference/#/p5/arc</a>]</p></blockquote><h5 id=ä½ç½®-3>ä½ç½®</h5><p>core/friendly_errors/validate_params.js</p><h3 id=feserrormonitor><code>fesErrorMonitor()</code></h3><h5 id=æè¿°-4>æè¿°</h5><p><code>fesErrorMonitor()</code>å¤„ç†æµè§ˆå™¨æ˜¾ç¤ºçš„å„ç§é”™è¯¯ã€‚è¯¥å‡½æ•°ç”Ÿæˆå…¨å±€é”™è¯¯æ¶ˆæ¯ã€‚</p><p>ç”Ÿæˆå¹¶æ‰“å°â€¦</p><ul><li>â€¦å‹å¥½é”™è¯¯æ¶ˆæ¯ï¼Œä½¿ç”¨é”®ï¼š<code>fes.globalErrors.syntax.*</code>ã€<code>fes.globalErrors.reference.*</code>ã€<code>fes.globalErrors.type.*</code>ã€‚</li><li>â€¦é€šè¿‡<code>processStack()</code>ç”Ÿæˆâ€œå†…éƒ¨åº“â€é”™è¯¯æ¶ˆæ¯ï¼Œä½¿ç”¨é”®ï¼š<code>fes.wrongPreload</code>ã€<code>fes.libraryError</code>ã€‚</li><li>â€¦é€šè¿‡<code>printFriendlyStack()</code>ç”Ÿæˆå †æ ˆè·Ÿè¸ªæ¶ˆæ¯ï¼Œä½¿ç”¨é”®ï¼š<code>fes.globalErrors.stackTop</code>ã€<code>fes.globalErrors.stackSubseq</code>ã€‚</li><li>â€¦é€šè¿‡<code>handleMisspelling()</code>ç”Ÿæˆæ‹¼å†™æ£€æŸ¥æ¶ˆæ¯ï¼ˆæ¥è‡ªå¼•ç”¨é”™è¯¯ï¼‰ï¼Œä½¿ç”¨é”®ï¼š<code>fes.misspelling</code>ã€‚</li></ul><p>å¯ä»¥é€šè¿‡é”™è¯¯äº‹ä»¶ã€æœªå¤„ç†çš„æ‹’ç»äº‹ä»¶è°ƒç”¨<code>_fesErrorMonitor()</code>ï¼Œä¹Ÿå¯ä»¥åœ¨<code>catch</code>å—ä¸­æ‰‹åŠ¨è°ƒç”¨å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>try { someCode(); } catch(err) { p5._fesErrorMonitor(err); }</span></span></code></pre><p>è¯¥å‡½æ•°ç›®å‰å¯ä»¥å¤„ç†æŸäº›ç±»å‹çš„ReferenceErrorã€SyntaxErrorå’ŒTypeErrorã€‚æ‚¨å¯ä»¥åœ¨<code>browser_errors.js</code>ä¸­æ‰¾åˆ°æ”¯æŒçš„é”™è¯¯çš„å®Œæ•´åˆ—è¡¨ã€‚</p><p><code>_fesErrorMonitor</code>çš„è°ƒç”¨é¡ºåºå¤§è‡´å¦‚ä¸‹ï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span> _fesErrorMonitor</span></span>
<span class=line><span>     processStack</span></span>
<span class=line><span>       printFriendlyError</span></span>
<span class=line><span>     ï¼ˆå¦‚æœé”™è¯¯ç±»å‹æ˜¯ReferenceErrorï¼‰</span></span>
<span class=line><span>       _handleMisspelling</span></span>
<span class=line><span>         computeEditDistance</span></span>
<span class=line><span>         _report</span></span>
<span class=line><span>       _report</span></span>
<span class=line><span>       printFriendlyStack</span></span>
<span class=line><span>     ï¼ˆå¦‚æœé”™è¯¯ç±»å‹æ˜¯SyntaxErrorã€TypeErrorç­‰ï¼‰</span></span>
<span class=line><span>       _report</span></span>
<span class=line><span>       printFriendlyStack</span></span></code></pre><h5 id=è¯­æ³•-4>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>fesErrorMonitor(event)</span></span></code></pre><h5 id=å‚æ•°-4>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param {*}  e     é”™è¯¯äº‹ä»¶</span></span></code></pre><h3 id=ç¤ºä¾‹-2>ç¤ºä¾‹</h3><ins>å†…éƒ¨é”™è¯¯ç¤ºä¾‹ 1</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function preload() {</span></span>
<span class=line><span>  // ç”±äºåœ¨preloadä¸­è°ƒç”¨background()è€Œå¼•å‘</span></span>
<span class=line><span>  // é”™è¯¯</span></span>
<span class=line><span>  background(200);</span></span>
<span class=line><span>}</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ä¸­ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.jsè¯´ï¼šå½“è°ƒç”¨backgroundæ—¶ï¼ˆä½äºsketch.jsçš„ç¬¬4è¡Œ[http://localhost:8000/lib/empty-example/sketch.js:4:3]ï¼‰ï¼Œåœ¨p5jsåº“å†…éƒ¨å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œé”™è¯¯æ¶ˆæ¯ä¸ºâ€œæ— æ³•è¯»å–æœªå®šä¹‰çš„å±æ€§â€™backgroundâ€™â€ã€‚ï¼ˆå¦‚æœæ²¡æœ‰å¦å¤–è¯´æ˜ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºä»preloadä¸­è°ƒç”¨äº†backgroundã€‚preloadå‡½æ•°ä¸­é™¤äº†loadå‡½æ•°ï¼ˆloadImageã€loadJSONã€loadFontã€loadStringsç­‰ï¼‰ä¹‹å¤–ä¸åº”è¯¥æœ‰å…¶ä»–å†…å®¹ã€‚ï¼‰ï¼ˆ<a href=http://p5js.org/reference/#/p5/preload%EF%BC%89>http://p5js.org/reference/#/p5/preloadï¼‰</a></p></blockquote><ins>å†…éƒ¨é”™è¯¯ç¤ºä¾‹ 2</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function setup() {</span></span>
<span class=line><span>  cnv = createCanvas(200, 200);</span></span>
<span class=line><span>  cnv.mouseClicked();</span></span>
<span class=line><span>}</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ä¸­ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.jsè¯´ï¼šå½“è°ƒç”¨mouseClickedæ—¶ï¼ˆä½äºsketch.jsçš„ç¬¬3è¡Œ[http://localhost:8000/lib/empty-example/sketch.js:3:7]ï¼‰ï¼Œåœ¨p5jsåº“å†…éƒ¨å‘ç”Ÿäº†ä¸€ä¸ªé”™è¯¯ï¼Œé”™è¯¯æ¶ˆæ¯ä¸ºâ€œæ— æ³•è¯»å–æœªå®šä¹‰çš„å±æ€§â€™bindâ€™â€ã€‚ï¼ˆå¦‚æœæ²¡æœ‰å¦å¤–è¯´æ˜ï¼Œè¿™å¯èƒ½æ˜¯ç”±äºä¼ é€’ç»™mouseClickedçš„å‚æ•°å­˜åœ¨é—®é¢˜ã€‚ï¼‰ï¼ˆ<a href=http://p5js.org/reference/#/p5/mouseClicked%EF%BC%89>http://p5js.org/reference/#/p5/mouseClickedï¼‰</a></p></blockquote><ins>ç”¨æˆ·ç¤ºä¾‹ä¸­çš„ä½œç”¨åŸŸé”™è¯¯ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function setup() {</span></span>
<span class=line><span>  let b = 1;</span></span>
<span class=line><span>}</span></span>
<span class=line><span>function draw() {</span></span>
<span class=line><span>  b += 1;</span></span>
<span class=line><span>}</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ä¸­ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.jsè¯´ï¼šç”±äºå½“å‰èŒƒå›´å†…æœªå®šä¹‰â€œbâ€ï¼Œå‡ºç°äº†ä¸€ä¸ªé”™è¯¯ï¼ˆä½äºsketch.jsçš„ç¬¬5è¡Œ[http://localhost:8000/lib/empty-example/sketch.js:5:3]ï¼‰ã€‚å¦‚æœåœ¨ä»£ç ä¸­å®šä¹‰äº†å®ƒï¼Œè¯·æ£€æŸ¥å…¶ä½œç”¨åŸŸã€æ‹¼å†™å’Œå¤§å°å†™ï¼ˆJavaScriptåŒºåˆ†å¤§å°å†™ï¼‰ã€‚æ›´å¤šä¿¡æ¯ï¼š<a href=https://p5js.org/examples/data-variable-scope.html>https://p5js.org/examples/data-variable-scope.html</a> <a href=https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_Defined#What_went_wrong>https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_Defined#What_went_wrong</a></p></blockquote><ins>ç”¨æˆ·ç¤ºä¾‹ä¸­çš„æ‹¼å†™é”™è¯¯ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function setup() {</span></span>
<span class=line><span>  colour(1, 2, 3);</span></span>
<span class=line><span>}</span></span></code></pre><p>FESå°†åœ¨æ§åˆ¶å°ä¸­ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.jsè¯´ï¼šæ‚¨å¯èƒ½é”™è¯¯åœ°å°†â€œcolourâ€å†™æˆäº†â€œcolorâ€ï¼ˆä½äºsketch.jsçš„ç¬¬2è¡Œ[http://localhost:8000/lib/empty-example/sketch.js:2:3]ï¼‰ã€‚å¦‚æœå¸Œæœ›ä½¿ç”¨p5.jsä¸­çš„å‡½æ•°ï¼Œè¯·å°†å…¶æ›´æ­£ä¸ºcolorï¼ˆ<a href=http://p5js.org/reference/#/p5/color%EF%BC%89%E3%80%82>http://p5js.org/reference/#/p5/colorï¼‰ã€‚</a></p></blockquote><h5 id=ä½ç½®-4>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h3 id=fescodereader><code>fesCodeReader()</code></h3><h5 id=æè¿°-5>æè¿°</h5><p><code>fesCodeReader()</code> å‡½æ•°ç”¨äºæ£€æŸ¥ä»¥ä¸‹æƒ…å†µï¼š(1) æ˜¯å¦åœ¨ <code>setup()</code> å’Œ/æˆ– <code>draw()</code> å‡½æ•°ä¹‹å¤–ä½¿ç”¨äº†ä»»ä½• p5.js çš„å¸¸é‡æˆ–å‡½æ•°ï¼Œä»¥åŠ (2) æ˜¯å¦é‡æ–°å£°æ˜äº†ä»»ä½• p5.js çš„ä¿ç•™å¸¸é‡æˆ–å‡½æ•°ã€‚</p><p>ç”Ÿæˆå¹¶æ‰“å°ä¸€ä¸ªå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ï¼Œé”™è¯¯ç±»å‹ä¸ºï¼š<code>fes.sketchReaderErrors.reservedConst</code>ã€<code>fes.sketchReaderErrors.reservedFunc</code>ã€‚</p><p>åœ¨ <code>setup()</code> å’Œ <code>draw()</code> å‡½æ•°ä¸­æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li>æå–ç”¨æˆ·ç¼–å†™çš„ä»£ç </li><li>å°†ä»£ç è½¬æ¢ä¸ºä»£ç è¡Œçš„æ•°ç»„</li><li>æ•è·å˜é‡å’Œå‡½æ•°å£°æ˜</li><li>æ£€æŸ¥å£°æ˜çš„å‡½æ•°/å˜é‡æ˜¯å¦ä¸ºä¿ç•™çš„ p5.js å¸¸é‡æˆ–å‡½æ•°ï¼Œå¹¶è¿›è¡ŒæŠ¥å‘Šã€‚</li></ul><p>è¯¥å‡½æ•°åœ¨è§¦å‘ <code>load</code> äº‹ä»¶æ—¶æ‰§è¡Œã€‚</p><h5 id=ç¤ºä¾‹-3>ç¤ºä¾‹</h5><ins>é‡æ–°å®šä¹‰ p5.js ä¿ç•™å¸¸é‡çš„ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function setup() {</span></span>
<span class=line><span>  // PI æ˜¯ p5.js çš„ä¿ç•™å¸¸é‡</span></span>
<span class=line><span>  let PI = 100;</span></span>
<span class=line><span>}</span></span></code></pre><p>FES å°†åœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js æç¤ºï¼šæ‚¨ä½¿ç”¨äº† p5.js çš„ä¿ç•™å˜é‡ â€œPIâ€ï¼Œè¯·ç¡®ä¿å°†å˜é‡åæ›´æ”¹ä¸ºå…¶ä»–åç§°ã€‚(<a href=https://p5js.org/reference/#/p5/PI>https://p5js.org/reference/#/p5/PI</a>)</p></blockquote><ins>é‡æ–°å®šä¹‰ p5.js ä¿ç•™å‡½æ•°çš„ç¤ºä¾‹</ins><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function setup() {</span></span>
<span class=line><span>  // text æ˜¯ p5.js çš„ä¿ç•™å‡½æ•°</span></span>
<span class=line><span>  let text = 100;</span></span>
<span class=line><span>}</span></span></code></pre><p>FES å°†åœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js æç¤ºï¼šæ‚¨ä½¿ç”¨äº† p5.js çš„ä¿ç•™å‡½æ•° â€œtextâ€ï¼Œè¯·ç¡®ä¿å°†å‡½æ•°åæ›´æ”¹ä¸ºå…¶ä»–åç§°ã€‚</p></blockquote><h5 id=ä½ç½®-5>ä½ç½®</h5><p>core/friendly_errors/sketch_reader.js</p><h3 id=checkforuserdefinedfunctions><code>checkForUserDefinedFunctions()</code></h3><h5 id=æè¿°-6>æè¿°</h5><p><code>checkForUserDefinedFunctions()</code> å‡½æ•°ç”¨äºæ£€æŸ¥æ˜¯å¦ä½¿ç”¨äº†é”™è¯¯çš„å¤§å°å†™å†™æ³•æ¥è°ƒç”¨ä»»ä½•ç”¨æˆ·å®šä¹‰çš„å‡½æ•°ï¼ˆå¦‚ <code>setup()</code>ã€<code>draw()</code>ã€<code>mouseMoved()</code> ç­‰ï¼‰ã€‚</p><p>ç”Ÿæˆå¹¶æ‰“å°ä¸€ä¸ªå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ï¼Œé”™è¯¯ç±»å‹ä¸º <code>fes.checkUserDefinedFns</code>ã€‚</p><h5 id=è¯­æ³•-5>è¯­æ³•</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>checkForUserDefinedFunctions(context)</span></span></code></pre><h5 id=å‚æ•°-5>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param {*} context  å½“å‰é»˜è®¤ä¸Šä¸‹æ–‡ã€‚</span></span>
<span class=line><span>                    åœ¨â€œå…¨å±€æ¨¡å¼â€ä¸‹è®¾ç½®ä¸º windowï¼Œåœ¨â€œå®ä¾‹æ¨¡å¼â€ä¸‹è®¾ç½®ä¸º p5 å®ä¾‹ã€‚</span></span></code></pre><h5 id=ç¤ºä¾‹-4>ç¤ºä¾‹</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>function preLoad() {</span></span>
<span class=line><span>  loadImage('myimage.png');</span></span>
<span class=line><span>}</span></span></code></pre><p>FES å°†åœ¨æ§åˆ¶å°ç”Ÿæˆä»¥ä¸‹æ¶ˆæ¯ï¼š</p><blockquote><p>ğŸŒ¸ p5.js æç¤ºï¼šä¼¼ä¹æ‚¨å¯èƒ½è¯¯å†™äº† preLoadï¼Œåº”è¯¥æ˜¯ preloadã€‚å¦‚æœè¿™ä¸æ˜¯æ‚¨çš„æ„å›¾ï¼Œè¯·è¿›è¡Œæ›´æ­£ã€‚(<a href=http://p5js.org/reference/#/p5/preload>http://p5js.org/reference/#/p5/preload</a>)</p></blockquote><h5 id=ä½ç½®-6>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h3 id=_friendlyautoplayerror><code>_friendlyAutoplayError()</code></h3><h5 id=æè¿°-7>æè¿°</h5><p><code>_friendlyAutoplayError()</code> æ˜¯åœ¨ä¸æ’­æ”¾åª’ä½“ï¼ˆä¾‹å¦‚è§†é¢‘ï¼‰ç›¸å…³çš„é”™è¯¯å‘ç”Ÿæ—¶å†…éƒ¨è°ƒç”¨çš„å‡½æ•°ï¼Œæœ€å¸¸è§çš„åŸå› æ˜¯æµè§ˆå™¨çš„è‡ªåŠ¨æ’­æ”¾ç­–ç•¥ã€‚</p><p>ç”Ÿæˆå¹¶æ‰“å°ä¸€ä¸ªå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ï¼Œé”™è¯¯ç±»å‹ä¸º <code>fes.autoplay</code>ã€‚</p><h5 id=ä½ç½®-7>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h3 id=helpformisusedattoplevelcode><code>helpForMisusedAtTopLevelCode()</code></h3><h5 id=æè¿°-8>æè¿°</h5><p><code>helpForMisusedAtTopLevelCode()</code> æ˜¯ç”± <code>fes_core.js</code> åœ¨çª—å£åŠ è½½æ—¶è°ƒç”¨çš„å‡½æ•°ï¼Œç”¨äºæ£€æŸ¥æ˜¯å¦åœ¨ <code>setup()</code> æˆ– <code>draw()</code> ä¹‹å¤–ä½¿ç”¨äº† p5.js çš„å‡½æ•°ã€‚</p><p>ç”Ÿæˆå¹¶æ‰“å°ä¸€ä¸ªå‹å¥½çš„é”™è¯¯æ¶ˆæ¯ï¼Œé”™è¯¯ç±»å‹ä¸º <code>fes.misusedTopLevel</code>ã€‚</p><h5 id=å‚æ•°-6>å‚æ•°</h5><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>@param {*}        err    é”™è¯¯äº‹ä»¶</span></span>
<span class=line><span>@param {Boolean}  log    false</span></span></code></pre><h5 id=ä½ç½®-8>ä½ç½®</h5><p>core/friendly_errors/fes_core.js</p><h2 id=å¼€å‘è€…å¤‡æ³¨å¼€å‘è€…çš„æ³¨é‡Š>å¼€å‘è€…å¤‡æ³¨ï¼šå¼€å‘è€…çš„æ³¨é‡Š</h2><h4 id=ç”Ÿæˆå‹å¥½é”™è¯¯æ¶ˆæ¯çš„å…¶ä»–-fes-å‡½æ•°>ç”Ÿæˆå‹å¥½é”™è¯¯æ¶ˆæ¯çš„å…¶ä»– FES å‡½æ•°</h4><ul><li><p><code>friendlyWelcome()</code> ç›´æ¥æ‰“å°åˆ°æ§åˆ¶å°ã€‚ï¼ˆé»˜è®¤æƒ…å†µä¸‹éšè—ã€‚ï¼‰</p></li><li><p><code>stacktrace.js</code> åŒ…å«ä» <a href=https://github.com/stacktracejs/stacktrace.js>https://github.com/stacktracejs/stacktrace.js</a> å€Ÿç”¨çš„ä»£ç ï¼Œç”¨äºè§£æé”™è¯¯å †æ ˆã€‚è¿™æ˜¯ç”± <code>fesErrorMonitor()</code> å’Œ <code>handleMisspelling()</code> è°ƒç”¨çš„ã€‚</p></li></ul><h4 id=ä¸ºå‚æ•°éªŒè¯å‡†å¤‡-p5js-å¯¹è±¡>ä¸ºå‚æ•°éªŒè¯å‡†å¤‡ p5.js å¯¹è±¡</h4><ul><li>ä»»ä½•å°†ç”¨äºå‚æ•°éªŒè¯çš„ p5.js å¯¹è±¡éƒ½éœ€è¦åœ¨ç±»å£°æ˜ä¸­ä¸º <code>name</code> å‚æ•°ï¼ˆå¯¹è±¡çš„åç§°ï¼‰åˆ†é…ä¸€ä¸ªå€¼ï¼Œä¾‹å¦‚ï¼š</li></ul><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span style=color:#e1e4e8>p5.</span><span style=color:#b392f0>newObject</span><span style=color:#f97583> =</span><span style=color:#f97583> function</span><span style=color:#e1e4e8>(</span><span style=color:#ffab70>parameter</span><span style=color:#e1e4e8>) {</span></span>
<span class=line><span style=color:#79b8ff>   this</span><span style=color:#e1e4e8>.parameter </span><span style=color:#f97583>=</span><span style=color:#9ecbff> 'some parameter'</span><span style=color:#e1e4e8>;</span></span>
<span class=line><span style=color:#79b8ff>   this</span><span style=color:#e1e4e8>.name </span><span style=color:#f97583>=</span><span style=color:#9ecbff> 'p5.newObject'</span><span style=color:#e1e4e8>;</span></span>
<span class=line><span style=color:#e1e4e8>};</span></span></code></pre><ul><li>å†…è”æ–‡æ¡£ï¼šå…è®¸çš„å‚æ•°ç±»å‹åŒ…æ‹¬ <code>Boolean</code>ã€<code>Number</code>ã€<code>String</code>ï¼Œä»¥åŠå¯¹è±¡çš„åç§°ï¼ˆå‚è§ä¸Šè¿°é¡¹ç›®ç¬¦å·ï¼‰ã€‚å¯¹äºä»»ä½•æ•°ç»„å‚æ•°ï¼Œè¯·ä½¿ç”¨ <code>Array</code>ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥åœ¨æè¿°éƒ¨åˆ†è§£é‡Šå…è®¸çš„ç‰¹å®šç±»å‹çš„æ•°ç»„å‚æ•°ï¼ˆä¾‹å¦‚ <code>Number[]</code>ã€<code>String[]</code>ï¼‰ã€‚</li><li>ç›®å‰æ”¯æŒçš„ç±»ç±»å‹ï¼ˆå…·æœ‰å…¶ <code>name</code> å‚æ•°ï¼‰ï¼š<code>p5.Color</code>ã€<code>p5.Element</code>ã€<code>p5.Graphics</code>ã€<code>p5.Renderer</code>ã€<code>p5.Renderer2D</code>ã€<code>p5.Image</code>ã€<code>p5.Table</code>ã€<code>p5.TableRow</code>ã€<code>p5.XML</code>ã€<code>p5.Vector</code>ã€<code>p5.Font</code>ã€<code>p5.Geometry</code>ã€<code>p5.Matrix</code>ã€<code>p5.RendererGL</code>ã€‚</li></ul><h4 id=fes-çš„æ€§èƒ½é—®é¢˜>FES çš„æ€§èƒ½é—®é¢˜</h4><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œp5.js å¯ç”¨äº† FESï¼Œè€Œåœ¨ <code>p5.min.js</code> ä¸­ç¦ç”¨äº† FESï¼Œä»¥é˜²æ­¢ FES å‡½æ•°å¯¼è‡´è¿›ç¨‹å˜æ…¢ã€‚é”™è¯¯æ£€æŸ¥ç³»ç»Ÿå¯èƒ½ä¼šæ˜¾è‘—é™ä½ä»£ç çš„æ‰§è¡Œé€Ÿåº¦ï¼ˆåœ¨æŸäº›æƒ…å†µä¸‹é«˜è¾¾çº¦ 10 å€ï¼‰ã€‚è¯·å‚é˜…<a href=https://github.com/processing/p5.js-website/tree/main/src/assets/learn/performance/code/friendly-error-system/ >å‹å¥½é”™è¯¯æ€§èƒ½æµ‹è¯•</a>ã€‚</p><p>æ‚¨å¯ä»¥åœ¨ä»£ç çš„é¡¶éƒ¨æ·»åŠ ä¸€è¡Œä»£ç æ¥ç¦ç”¨æ­¤åŠŸèƒ½ï¼š</p><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>p5.disableFriendlyErrors = true; // ç¦ç”¨ FES</span></span>
<span class=line><span></span></span>
<span class=line><span>function setup() {</span></span>
<span class=line><span>  // æ‰§è¡Œè®¾ç½®æ“ä½œ</span></span>
<span class=line><span>}</span></span>
<span class=line><span></span></span>
<span class=line><span>function draw() {</span></span>
<span class=line><span>  // æ‰§è¡Œç»˜å›¾æ“ä½œ</span></span>
<span class=line><span>}</span></span></code></pre><p>è¯·æ³¨æ„ï¼Œè¿™å°†ç¦ç”¨å¯¼è‡´æ€§èƒ½ä¸‹é™çš„ FES éƒ¨åˆ†ï¼ˆä¾‹å¦‚å‚æ•°æ£€æŸ¥ï¼‰ã€‚æ²¡æœ‰æ€§èƒ½æˆæœ¬çš„å‹å¥½é”™è¯¯ï¼ˆä¾‹å¦‚åœ¨æ–‡ä»¶åŠ è½½å¤±è´¥æ—¶ç»™å‡ºæè¿°æ€§é”™è¯¯ï¼Œæˆ–è€…åœ¨å°è¯•åœ¨å…¨å±€ç©ºé—´ä¸­è¦†ç›– p5.js å‡½æ•°æ—¶å‘å‡ºè­¦å‘Šï¼‰å°†ä¿æŒåŸæ ·ã€‚</p><h2 id=å·²çŸ¥é™åˆ¶>å·²çŸ¥é™åˆ¶</h2><ul><li>FES å¯èƒ½ä»ç„¶ä¼šå¯¼è‡´å‡é˜´æ€§çš„æƒ…å†µã€‚è¿™é€šå¸¸æ˜¯ç”±äºè®¾è®¡ä¸å®é™…ä½¿ç”¨æƒ…å†µä¹‹é—´çš„ä¸åŒ¹é…è€Œå¯¼è‡´çš„ï¼ˆä¾‹å¦‚ï¼Œç»˜å›¾å‡½æ•°æœ€åˆè®¾è®¡ç”¨äºåœ¨ 2D å’Œ 3D è®¾ç½®ä¸­å¯ä»¥äº’æ¢ä½¿ç”¨ï¼‰ï¼Œä¾‹å¦‚ï¼š</li></ul><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>const x3; // æœªå®šä¹‰</span></span>
<span class=line><span>line(0, 0, 100, 100, x3, Math.PI);</span></span></code></pre><p>å°†é€ƒè¿‡ FES çš„æ£€æµ‹ï¼Œå› ä¸º <code>line()</code> çš„å†…è”æ–‡æ¡£ä¸­æœ‰ä¸€ä¸ªå¯æ¥å—çš„å‚æ•°æ¨¡å¼ï¼ˆ<code>Number</code>ã€<code>Number</code>ã€<code>Number</code>ã€<code>Number</code>ï¼‰ç”¨äºåœ¨ 2D è®¾ç½®ä¸­ç»˜åˆ¶ã€‚è¿™ä¹Ÿæ„å‘³ç€å½“å‰ç‰ˆæœ¬çš„ FES ä¸ä¼šæ£€æŸ¥è¯¸å¦‚ <code>_renderer.isP3D</code> ç­‰ç¯å¢ƒå˜é‡ã€‚</p><ul><li><p>FES ä»…èƒ½æ£€æµ‹åˆ°ä½¿ç”¨ <code>const</code> æˆ– <code>var</code> å£°æ˜æ—¶è¦†ç›–çš„å…¨å±€å˜é‡ã€‚å¦‚æœä½¿ç”¨ <code>let</code>ï¼Œåˆ™æ— æ³•æ£€æµ‹åˆ°ã€‚ç”±äº <code>let</code> å®ä¾‹åŒ–å˜é‡çš„æ–¹å¼ï¼Œç›®å‰æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p></li><li><p>ç›®å‰ï¼Œæè¿°ä¸º <strong><code>fesErrorMonitor()</code></strong> ä¸‹çš„åŠŸèƒ½ä»…åœ¨ Web ç¼–è¾‘å™¨ä¸Šæˆ–åœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šè¿è¡Œæ—¶æœ‰æ•ˆã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…è¯·æ±‚åˆå¹¶<a href=https://github.com/processing/p5.js/pull/4730>#4730</a>ã€‚</p></li><li><p><code>sketch_reader()</code> å¯èƒ½ä¼šåœ¨æå–ç”¨æˆ·ä»£ç ä¸­çš„å˜é‡/å‡½æ•°åç§°æ—¶é—æ¼ä¸€äº›æƒ…å†µï¼ˆä¾‹å¦‚ï¼Œå½“æ‰€æœ‰ä»£ç éƒ½å†™åœ¨ä¸€è¡Œä¸­æ—¶ï¼‰ã€‚</p></li></ul><h2 id=æœªæ¥å·¥ä½œçš„æ€è€ƒ>æœªæ¥å·¥ä½œçš„æ€è€ƒ</h2><ul><li><p>ä¸º Web ç¼–è¾‘å™¨é‡æ–°å¼•å…¥é¢œè‰²ç¼–ç ã€‚</p></li><li><p>å¢åŠ æ›´å¤šå•å…ƒæµ‹è¯•ä»¥å®ç°å…¨é¢çš„æµ‹è¯•è¦†ç›–ã€‚</p></li><li><p>æ›´ç›´è§‚ã€æ›´ç²¾ç¡®çš„è¾“å‡ºä¿¡æ¯ã€‚</p></li><li><p>æ‰€ä½¿ç”¨çš„æ‰€æœ‰é¢œè‰²åº”å¯¹è‰²ç›²å‹å¥½ã€‚</p></li><li><p>è¯†åˆ«æ›´å¤šå¸¸è§çš„é”™è¯¯ç±»å‹ï¼Œå¹¶ä¸ FES è¿›è¡Œæ¦‚æ‹¬ï¼ˆä¾‹å¦‚ <code>bezierVertex()</code>ã€<code>quadraticVertex()</code> - éœ€è¦åˆå§‹åŒ–çš„å¯¹è±¡æœªå¯åŠ¨ï¼›æ£€æŸ¥ <code>nf()</code>ã€<code>nfc()</code>ã€<code>nfp()</code>ã€<code>nfs()</code> çš„ Number å‚æ•°æ˜¯å¦ä¸ºæ­£æ•°ï¼‰ã€‚</p></li><li><p>æ‰©å±•å…¨å±€é”™è¯¯æ•è·ã€‚è¿™æ„å‘³ç€æ•è·æµè§ˆå™¨è¾“å‡ºåˆ°æ§åˆ¶å°çš„é”™è¯¯ï¼Œå¹¶ä¸å‹å¥½çš„æ¶ˆæ¯è¿›è¡ŒåŒ¹é…ã€‚<code>fesErrorMonitor()</code> å¯ä»¥å¤„ç†ä¸€äº›ç‰¹å®šç±»å‹çš„é”™è¯¯ï¼Œä½†å¯¹äºæ›´å¤šç±»å‹çš„æ”¯æŒä¼šå¾ˆæœ‰å¸®åŠ©ã€‚</p></li><li><p>æ”¹è¿› <code>sketch_reader.js</code> çš„ä»£ç è¯»å–å’Œæå–å˜é‡/å‡½æ•°åçš„åŠŸèƒ½ï¼ˆæå–ç”¨æˆ·åœ¨ä»£ç ä¸­å£°æ˜çš„å‡½æ•°å’Œå˜é‡åï¼‰ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‰€æœ‰ä»£ç éƒ½å†™åœ¨ä¸€è¡Œä¸­ï¼Œ<code>sketch_reader.js</code> å°±æ— æ³•æ­£ç¡®æå–å˜é‡/å‡½æ•°åã€‚æˆ‘ä»¬æ¬¢è¿æœªæ¥çš„ææ¡ˆï¼Œä»¥è¯†åˆ«æ‰€æœ‰è¿™äº›â€é€ƒé€¸â€æƒ…å†µï¼Œå¹¶æ·»åŠ å•å…ƒæµ‹è¯•ä»¥æ•æ‰å®ƒä»¬ã€‚</p></li><li><p><code>sketch_reader.js</code> å¯ä»¥æ‰©å±•ï¼Œå¯ä»¥æ·»åŠ æ–°åŠŸèƒ½ï¼ˆä¾‹å¦‚ï¼šå½“ç”¨æˆ·åœ¨ <code>draw()</code> å‡½æ•°ä¸­å£°æ˜å˜é‡æ—¶å‘ç”¨æˆ·å‘å‡ºè­¦å‘Šï¼‰ã€‚ä»¥æ›´å¥½åœ°å¸®åŠ©ç”¨æˆ·ã€‚</p></li></ul><pre class="astro-code github-dark" style=background-color:#24292e;color:#e1e4e8;overflow-x:auto tabindex=0><code><span class=line><span>// è¿™æ®µä»£ç ç‰‡æ®µä½¿ç”¨æ–°å‡½æ•°åŒ…è£…äº† window.console æ–¹æ³•ï¼Œä»¥ä¿®æ”¹å…¶åŠŸèƒ½</span></span>
<span class=line><span>// ç›®å‰å°šæœªå®ç°ï¼Œä½†å¯ä»¥ä½¿ç”¨å®ƒæ¥æä¾›æ›´å¥½æ ¼å¼çš„é”™è¯¯æ¶ˆæ¯</span></span>
<span class=line><span>const original = window.console;</span></span>
<span class=line><span>const original_functions = {</span></span>
<span class=line><span>    log: original.log,</span></span>
<span class=line><span>    warn: original.warn,</span></span>
<span class=line><span>    error: original.error</span></span>
<span class=line><span>}</span></span>
<span class=line><span>["log", "warn", "error"].forEach(function(func){</span></span>
<span class=line><span>    window.console[func] = function(msg) {</span></span>
<span class=line><span>      // åœ¨åŒ…è£…å‡½æ•°ä¸­å¤„ç†æ•è·çš„æ¶ˆæ¯ï¼Œç„¶åè°ƒç”¨åŸå§‹å‡½æ•°</span></span>
<span class=line><span>      original_functions[func].apply(original, arguments)</span></span>
<span class=line><span>    };</span></span>
<span class=line><span>});</span></span></code></pre><ul><li>ä»å†…è”æ–‡æ¡£ç”Ÿæˆ FES å‚è€ƒæ–‡æ¡£ã€‚è¿™ä¸ªç”Ÿæˆçš„å‚è€ƒæ–‡æ¡£å¯ä»¥ä½œä¸ºä¸€ä¸ªå•ç‹¬çš„ç³»ç»Ÿï¼Œä¸æˆ‘ä»¬ä¸»è¦çš„<a href=https://p5js.org/reference/ >p5.jså‚è€ƒæ–‡æ¡£</a>åˆ†å¼€ï¼Œå°†ä½œä¸ºSketchå’Œæ§åˆ¶å°çš„å‡½æ•°åˆ†å¼€ï¼Œä»¥å‡å°‘å¯èƒ½çš„æ··æ·†ã€‚</li></ul></main><div>p5.js site footer goes here</div></body></html>
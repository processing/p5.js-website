---
title: atan2
module: 数学
submodule: 三角函数
file: src/math/trigonometry.js
description: >
  <p>计算由一个点，作为原点和正 x 轴形成的角度。</p>

  <p><code>atan2()</code> 最常用于将几何图形定向到鼠标的位置，如 <code>atan2(mouseY, mouseX)</code>。第一个参数是点的 y 坐标，第二个参数是其 x 坐标。</p>

  <p>默认情况下，<code>atan2()</code> 返回的值范围是 -π（约-3.14）到 π（3.14）。如果 <a href="/reference/p5/angleMode">angleMode()</a> 设置为 <code>DEGREES</code>，则返回的值范围是 -180 到 180。</p>
line: 204
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('A rectangle at the top-left of the canvas rotates with mouse movements.');
    }

    function draw() {
      background(200);

      // Calculate the angle between the mouse
      // and the origin.
      let a = atan2(mouseY, mouseX);

      // Rotate.
      rotate(a);

      // Draw the shape.
      rect(0, 0, 60, 10);
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('A rectangle at the center of the canvas rotates with mouse movements.');
    }

    function draw() {
      background(200);

      // Translate the origin to the center.
      translate(50, 50);

      // Get the mouse's coordinates relative to the origin.
      let x = mouseX - 50;
      let y = mouseY - 50;

      // Calculate the angle between the mouse and the origin.
      let a = atan2(y, x);

      // Rotate.
      rotate(a);

      // Draw the shape.
      rect(-30, -5, 60, 10);
    }
    </code>
    </div>
class: p5
params:
  - name: y
    description: |
      <p>点的 y 坐标。</p>
    type: 数字
  - name: x
    description: |
      <p>点的 x 坐标。</p>
    type: 数字
return:
  description: 给定点的反正切。
  type: 数字
chainable: false
---


# atan2

---
title: mouseDragged
module: 事件
submodule: 鼠标
file: src/events/mouse.js
description: >
  <p>当按下按钮且拖动鼠标时调用的函数。</p>

  <p>声明函数 <code>mouseDragged()</code> 会设置一个代码块，当用户点击并拖动鼠标时自动运行：</p>

  <code>

  function mouseDragged() {
    // Code to run.
  }

  </code>

  <p>鼠标系统变量，如 <a href="/reference/p5/mouseX">mouseX</a> 和 <a href="/reference/p5/mouseY">mouseY</a>，将在调用 <code>mouseDragged()</code> 时用它们最新的值更新：</p>

  <code>

  function mouseDragged() {
    if (mouseX < 50) {
      // Code to run if the mouse is on the left.
    }

  <p>  if (mouseY > 50) {
      // Code to run if the mouse is near the bottom.
    }
  }

  </p></code>

  <p>参数 <code>event</code> 是可选的。<code>mouseDragged()</code> 总是会传递一个 <a href="https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent" target="_blank">MouseEvent</a> 对象，其中包含描述鼠标拖动事件的属性：</p>

  <code>

  function mouseDragged(event) {
    // Code to run that uses the event.
    console.log(event);
  }

  </code>

  <p>在触摸屏设备上，如果没有声明 <a href="/reference/p5/touchMoved">touchMoved()</a>，则当用户移动触摸点时会运行 <code>mouseDragged()</code>。如果声明了 <a href="/reference/p5/touchMoved">touchMoved()</a>，则当用户移动触摸点时会运行 <a href="/reference/p5/touchMoved">touchMoved()</a>，而 <code>mouseDragged()</code> 不会运行。</p>

  <p>浏览器可能会将默认行为附加到各种鼠标事件上。例如，一些浏览器在用户按下鼠标按钮同时移动鼠标时会高亮显示文本。为了防止此事件的任何默认行为，可在函数末尾添加 <code>return false;</code>。</p>
line: 968
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    let value = 0;

    function setup() {
      createCanvas(100, 100);

      describe(
        'A gray square with a black square at its center. The inner square becomes lighter as the user drags the mouse.'
      );
    }

    function draw() {
      background(200);

      // Style the square.
      fill(value);

      // Draw the square.
      square(25, 25, 50);
    }

    function mouseDragged() {
      // Update the grayscale value.
      value += 5;

      // Reset the grayscale value.
      if (value > 255) {
        value = 0;
      }
      // Uncomment to prevent any default behavior.
      // return false;
    }
    </code>
    </div>
class: p5
params:
  - name: event
    description: |
      <p>optional <code>MouseEvent</code> argument.</p>
    type: MouseEvent
    optional: true
chainable: false
---


# mouseDragged

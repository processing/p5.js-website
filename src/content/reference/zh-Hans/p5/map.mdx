---
title: map
module: 数学
submodule: 计算
file: src/math/calculation.js
description: |2-

  将一个数值从一个范围重新映射到另一个范围。

  例如，调用 <code>map(2, 0, 10, 0, 100)</code> 返回 20。前三个参数设置原始值为 2，原始范围从 0 到 10。最后两个参数设置目标范围从 0 到 100。20 在目标范围 [0, 100] 中的位置与 2 在原始范围 [0, 10] 中的位置成比例。

  第六个参数 <code>withinBounds</code> 是可选的。默认情况下，<code>map()</code> 可以返回目标范围之外的值。例如，<code>map(11, 0, 10, 0, 100)</code> 返回 110。将 <code>true</code> 作为第六个参数传递可以将重新映射的值限制在目标范围内。例如，<code>map(11, 0, 10, 0, 100, true)</code> 返回 100。
line: '534'
isConstructor: 'false'
itemtype: method
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('Two horizontal lines. The top line grows horizontally as the mouse moves to the right. The bottom line also grows horizontally but is scaled to stay on the left half of the canvas.');
    }

    function draw() {
      background(200);

      // Draw the top line.
      line(0, 25, mouseX, 25);

      // Remap mouseX from [0, 100] to [0, 50].
      let x = map(mouseX, 0, 100, 0, 50);

      // Draw the bottom line.
      line(0, 75, 0, x);
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('A circle changes color from black to white as the mouse moves from left to right.');
    }

    function draw() {
      background(200);

      // Remap mouseX from [0, 100] to [0, 255]
      let c = map(mouseX, 0, 100, 0, 255);

      // Style the circle.
      fill(c);

      // Draw the circle.
      circle(50, 50, 20);
    }
    </code>
    </div>
class: p5
params:
  - name: value
    description: |2-
  
      <p>要重新映射的值。</p>
    type: 数字
  - name: start1
    description: |2-
  
      <p>当前范围的下限值。</p>
    type: 数字
  - name: stop1
    description: |2-
  
      <p>当前范围的上限值。</p>
    type: 数字
  - name: start2
    description: |2-
  
      <p>目标范围的下限值。</p>
    type: 数字
  - name: stop2
    description: |2-
  
      <p>目标范围的上限值。</p>
    type: 数字
  - name: withinBounds
    description: |2-
  
      <p>将数值约束在新映射的范围内。</p>
    type: 布尔
    optional: true
return:
  description: 重新映射后的数字。
  type: 数字
chainable: false
---

# map

---
title: for
module: 基础
submodule: 基础
file: src/core/reference.js
description: >
  <p>一种在已知迭代次数的情况下重复代码块的方法。</p>

  <p><code>for</code> 循环对于重复执行特定次数的语句很有帮助。例如，<code>for</code> 循环使得表达"画五条线"的想法变得简单，如下所示：</p>

  <code>

  for (let x = 10; x < 100; x += 20) {
    line(x, 25, x, 75);
  }

  </code>


  <p>循环的头部以关键字 <code>for</code> 开头。循环通常在重复或迭代时递增或递减。括号中的语句 <code>let x = 10; x < 100; x += 20</code> 
  决定循环的重复方式：</p>

  <ul>

  <li><code>let x = 10</code> 表示循环从 <code>10</code> 开始计数，并使用变量 <code>x</code> 记录迭代次数。
  </li>

  <li><code>x < 100</code> 表示循环计数到 100（但不包括 100）。</li>

  <li><code>x += 20</code> 表示每次迭代结束时递增 <code>20</code>。</li>

  </ul>

  <p>花括号 <code>{}</code> 之间的代码是循环的主体。循环主体中的语句在每次循环迭代期间重复执行。</p>

  <p>意外创建无限循环是很常见的。当发生这种情况时，绘图可能会变得无响应，网页浏览器可能会显示警告。例如，以下循环永远不会停止迭代，因为它没有计数递增：</p>

  <code>

  for (let x = 10; x < 100; x = 20) {
    line(x, 25, x, 75);
  }

  </code>


  <p>语句 <code>x = 20</code> 使变量 <code>x</code> 的值变为 <code>20</code>，始终小于 <code>100</code>。</p>

  <p><code>for</code> 循环也可以递减计数：</p>

  <code>

  for (let d = 100; d > 0; d -= 10) {
    circle(50, 50, d);
  }

  </code>


  <p><code>for</code> 循环也可以包含其他循环。下面的嵌套循环绘制了一个点网格。</p>

  <code>

  // Loop from left to right.

  for (let x = 10; x < 100; x += 10) {


  <p>  // Loop from top to bottom.
    for (let y = 10; y < 100; y += 10) {
      point(x, y);
    }</p>
  <p>}

  </p></code>

  <p><code>for</code> 循环对于遍历数组的元素也非常有用。例如，常见的是遍历一个包含绘制位置或内容信息的数组：</p>

  <code>

  // Create an array of x-coordinates.

  let xCoordinates = [20, 40, 60];


  <p>for (let i = 0; i < xCoordinates.length; i += 1) {
    // Update the element.
    xCoordinates[i] += random(-1, 1);</p>
  <p>  // Draw a circle.
    circle(xCoordinates[i], 50, 20);
  }

  </p></code>

  <p>如果数组的值没有被修改, 可以用 <code>for...of</code> 语句可以简化代码。这类似于 Python 

  中的 <code>for</code> 循环，和 C++、Java 中的 <code>for-each</code> 循环。

  以下循环具有相同的效果：</p>

  <code>

  // Draw circles with a for loop.

  let xCoordinates = [20, 40, 60];


  <p>for (let i = 0; i < xCoordinates.length; i += 1) {
    circle(xCoordinates[i], 50, 20);
  }

  </p></code>

  <code>

  // Draw circles with a for...of statement.

  let xCoordinates = [20, 40, 60];


  <p>for (let x of xCoordinates) {
    circle(x, 50, 20);
  }

  </p></code>

  <p>在上面的代码片段中，变量 <code>i</code> 和 <code>x</code> 有不同的作用。</p>

  <p>在第一个代码片段中，<code>i</code> 从 <code>0</code> 递增到 <code>2</code>，也就是 <code>xCoordinates.length</code> 减 1。
  <code>i</code> 用于访问 <code>xCoordinates</code> 中索引为 <code>i</code> 的元素。</p>

  <p>在第二个代码片段中，<code>x</code> 并不跟踪循环的进度或索引。在每次迭代中，<code>x</code> 包含 <code>xCoordinates</code> 的下一个元素。
  <code>x</code> 从 <code>xCoordinates</code> 的开头（<code>20</code>）开始，并在下一次迭代中将其值更新为 <code>40</code>，然后 <code>60</code>。</p>
line: 1684
isConstructor: false
itemtype: property
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('Five black vertical lines on a gray background.');
    }

    function draw() {
      background(200);

      // Draw vertical lines using a loop.
      for (let x = 10; x < 100; x += 20) {
        line(x, 25, x, 75);
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('Five white concentric circles drawn on a gray background.');
    }

    function draw() {
      background(200);

      // Draw concentric circles using a loop.
      for (let d = 100; d > 0; d -= 20) {
        circle(50, 50, d);
      }
    }
    </code>
    </div>

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      describe('A grid of black dots on a gray background.');
    }

    function draw() {
      background(200);

      // Set the spacing for points on the grid.
      let space = 10;

      // Increase the stroke weight.
      strokeWeight(3);

      // Loop from the left to the right.
      for (let x = space; x < 100; x += space) {
        // Loop from the top to the bottom.
        for (let y = space; y < 100; y += space) {
          point(x, y);
        }
      }
    }
    </code>
    </div>

    <div>
    <code>
    // Declare the variable xCoordinates and assign it an array of numbers.
    let xCoordinates = [20, 40, 60, 80];

    function setup() {
      createCanvas(100, 100);

      describe('Four white circles drawn in a horizontal line on a gray background.');
    }

    function draw() {
      background(200);

      // Access the element at index i and use it to draw a circle.
      for (let i = 0; i < xCoordinates.length; i += 1) {
        circle(xCoordinates[i], 50, 20);
      }
    }
    </code>
    </div>

    <div>
    <code>
    // Declare the variable xCoordinates and assign it an array of numbers.
    let xCoordinates = [20, 40, 60, 80];

    function setup() {
      createCanvas(100, 100);

      describe('Four white circles drawn in a horizontal line on a gray background.');
    }

    function draw() {
      background(200);

      // Access each element of the array and use it to draw a circle.
      for (let x of xCoordinates) {
        circle(x, 50, 20);
      }
    }
    </code>
    </div>
class: p5
---


# for

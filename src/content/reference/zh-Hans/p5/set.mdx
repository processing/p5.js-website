---
title: set
module: 图像
submodule: 像素
file: src/image/pixels.js
description: |2-

  <p>设置像素的颜色或将图像绘制到画布上。</p>


  <p><code>set()</code> 很容易使用，但速度不如


  <a href="./pixels">pixels</a>。使用 <a href="./pixels">pixels</a> 设置许多像素值。</p>


  <p><code>set()</code> 将前两个参数解释为 x 和 y 坐标。它将最后一个参数解释为灰度值，一个 <code>[R, G, B,
  A]</code> 像素数组、一个 <a href="./p5.Color">p5.Color</a> 对象或一个 <a href="./p5.Image">p5.Image</a> 对象。如果传入一个图像，前两个参数将设置为图像左上角的坐标。无论当前为何种图像模式 <a href="./imageMode">imageMode()</a>，</p>


  <p>在使用 <code>set()</code> 后，都必须调用<a href="./updatePixels">updatePixels()</a> 来显示改动。</p>
line: '997'
isConstructor: 'false'
itemtype: method
example:
  - |2-



  <div>

  <code>

  function setup() {

 "createCanvas(100, 100);"



 "background(200);"



    // Set four pixels to black.

 "set(30, 20, 0);"

 "set(85, 20, 0);"

 "set(85, 75, 0);"

 "set(30, 75, 0);"



    // Update the canvas.

 "updatePixels();"



 "describe('Four black dots arranged in a square drawn on a gray background.');"

  }

  </code>

  </div>



  <div>

  <code>

  function setup() {

 "createCanvas(100, 100);"



 "background(200);"



    // Create a p5.Color object.

 "let black = color(0);"



    // Set four pixels to black.

 "set(30, 20, black);"

 "set(85, 20, black);"

 "set(85, 75, black);"

 "set(30, 75, black);"



    // Update the canvas.

 "updatePixels();"



 "describe('Four black dots arranged in a square drawn on a gray background.');"

  }

  </code>

  </div>



  <div>

  <code>

  function setup() {

 "createCanvas(100, 100);"



 "background(255);"



    // Draw a horizontal color gradient.

 "for (let x = 0; x < 100; x += 1) {"

 "for (let y = 0; y < 100; y += 1) {"

        // Calculate the grayscale value.

 "let c = map(x, 0, 100, 0, 255);"



        // Set the pixel using the grayscale value.

 "set(x, y, c);"

      }

    }



    // Update the canvas.

 "updatePixels();"



 "describe('A horiztonal color gradient from black to white.');"

  }

  </code>

  </div>



  <div>

  <code>

 "let img;"



  // Load the image.

  function preload() {

 "img = loadImage('assets/rockies.jpg');"

  }



  function setup() {

 "createCanvas(100, 100);"



    // Use the image to set all pixels.

 "set(0, 0, img);"



    // Update the canvas.

 "updatePixels();"



 "describe('An image of a mountain landscape.');"

  }

  </code>

  </div>
class: p5
params:
  - name: x
  description: |2-

    <p>像素的 x 坐标。</p>
  type: 数字
  - name: y
  description: |2-

    <p>像素的 y 坐标。</p>
  type: 数字
  - name: c
  description: |2-

    <p>灰度值|像素数组|

                                   <a href="#/p5.Color">p5.Color</a> 对象 | 用以复制的 <a href="#/p5.Image">p5.Image</a> 。</p>
  type: 数字|数字[]|对象
chainable: 'false'
---

# set

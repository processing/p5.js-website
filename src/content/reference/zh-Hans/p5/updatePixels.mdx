---
title: updatePixels
module: 图像
submodule: 像素
file: src/image/pixels.js
description: |2-

  <p>使用 RGBA 值更新画布


  <a href="./pixels">pixels</a>数组。</p>


  <p>在 <a href="./pixels">pixels</a> 数组改值后，才需要调用<code>updatePixels()</code>。在调用<a href="./loadPixels">loadPixels()</a> 或 <a href="./set">set()</a> 以后，此类更改可以直接进行。</p>
line: '1118'
isConstructor: 'false'
itemtype: method
example:
  - |-

    <div>
    <code>
    let img;

    // Load the image.
    function preload() {
      img = loadImage('/assets/rockies.jpg');
    }

    function setup() {
      createCanvas(100, 100);

      // Display the image.
      image(img, 0, 0, 100, 100);

      // Get the pixel density.
      let d = pixelDensity();

      // Calculate the halfway index in the pixels array.
      let halfImage = 4 * (d * width) * (d * height / 2);

      // Load the pixels array.
      loadPixels();

      // Copy the top half of the canvas to the bottom.
      for (let i = 0; i < halfImage; i += 1) {
        pixels[i + halfImage] = pixels[i];
      }

      // Update the canvas.
      updatePixels();

      describe('Two identical images of mountain landscapes, one on top of the other.');
    }
    </code>
    </div>
class: p5
params:
  - name: x
    description: |2-
  
      <p>需要更新的区域左上角的 x 坐标。</p>
    type: 数字
    optional: true
  - name: y
    description: |2-
  
      <p>需要更新区域左上角的 y 坐标。</p>
    type: 数字
    optional: true
  - name: w
    description: |2-
  
      <p>需要更新的区域宽度。</p>
    type: 数字
    optional: true
  - name: h
    description: |2-
  
      <p>需要更新的区域高度。</p>
    type: 数字
    optional: true
chainable: false
---

# updatePixels

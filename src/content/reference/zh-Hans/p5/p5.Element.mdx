---
title: p5.Element
module: 文档对象模型
submodule: 文档对象模型
file: src/core/p5.Element.js
description: |2-
    <p>用于描述一个

    <a
    href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Getting_started"
    target="_blank">HTML 元素</a>的类。</p>

    <p>绘图可以使用许多元素。常见的元素包括绘图画布，

    按钮、滑块、摄像头视频源等等。</p>

    <p>所有元素都共享 <code>p5.Element</code> 类的方法。
    它们是通过诸如 <a href="./createCanvas">createCanvas()</a> 和

    <a href="./createButton">createButton()</a> 等函数创建的。</p>
line: '9'
isConstructor: 'true'
params:
  - name: elt
    description: "<p>被包裹的 DOM 元素。</p>"
    type: HTMLElement
  - name: pInst
    description: "<p>指向 p5 实例的指针。</p>"
    type: P5
    optional: true
example:
  - |-

    <div>
    <code>
    function setup() {
      createCanvas(100, 100);

      background(200);

      // Create a button element and
      // place it beneath the canvas.
      let btn = createButton('change');
      btn.position(0, 100);

      // Call randomColor() when
      // the button is pressed.
      btn.mousePressed(randomColor);

      describe('A gray square with a button that says "change" beneath it. The square changes color when the user presses the button.');
    }

    // Paint the background either
    // red, yellow, blue, or green.
    function randomColor() {
      let c = random(['red', 'yellow', 'blue', 'green']);
      background(c);
    }
    </code>
    </div>
methods:
  parent:
    description: >
      <p>Attaches the element to a parent element.</p>

      <p>For example, a <code><div></div></code> element may be used as a box to

      hold two pieces of text, a header and a paragraph. The

      <code><div></div></code> is the parent element of both the header and

      paragraph.</p>

      <p>The parameter <code>parent</code> can have one of three types.
      <code>parent</code> can be a

      string with the parent element's ID, as in

      <code>myElement.parent('container')</code>. It can also be another

      <a href="/reference/p5/p5.Element">p5.Element</a> object, as in

      <code>myElement.parent(myDiv)</code>. Finally, <code>parent</code> can be
      an <code>HTMLElement</code>

      object, as in <code>myElement.parent(anotherElement)</code>.</p>

      <p>Calling <code>myElement.parent()</code> without an argument returns the
      element's

      parent.</p>
    path: p5.Element/parent
  id:
    description: >
      <p>Sets the element's ID using a given string.</p>

      <p>Calling <code>myElement.id()</code> without an argument returns its ID
      as a string.</p>
    path: p5.Element/id
  class:
    description: >
      <p>Adds a

      <a
      href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/class"
      target="_blank">class attribute</a>

      to the element using a given string.</p>

      <p>Calling <code>myElement.class()</code> without an argument returns a
      string with its current classes.</p>
    path: p5.Element/class
  mousePressed:
    description: >
      <p>Calls a function when the mouse is pressed over the element.</p>

      <p>Calling <code>myElement.mousePressed(false)</code> disables the
      function.</p>

      <p>Note: Some mobile browsers may also trigger this event when the element

      receives a quick tap.</p>
    path: p5.Element/mousePressed
  doubleClicked:
    description: >
      <p>Calls a function when the mouse is pressed twice over the element.</p>

      <p>Calling <code>myElement.doubleClicked(false)</code> disables the
      function.</p>
    path: p5.Element/doubleClicked
  mouseWheel:
    description: >
      <p>Calls a function when the mouse wheel scrolls over the element.</p>

      <p>The callback function, <code>fxn</code>, is passed an
      <code>event</code> object. <code>event</code> has

      two numeric properties, <code>deltaY</code> and <code>deltaX</code>.
      <code>event.deltaY</code> is

      negative if the mouse wheel rotates away from the user. It's positive if

      the mouse wheel rotates toward the user. <code>event.deltaX</code> is
      positive if

      the mouse wheel moves to the right. It's negative if the mouse wheel moves

      to the left.</p>

      <p>Calling <code>myElement.mouseWheel(false)</code> disables the
      function.</p>
    path: p5.Element/mouseWheel
  mouseReleased:
    description: >
      <p>Calls a function when the mouse is released over the element.</p>

      <p>Calling <code>myElement.mouseReleased(false)</code> disables the
      function.</p>

      <p>Note: Some mobile browsers may also trigger this event when the element

      receives a quick tap.</p>
    path: p5.Element/mouseReleased
  mouseClicked:
    description: >
      <p>Calls a function when the mouse is pressed and released over the
      element.</p>

      <p>Calling <code>myElement.mouseReleased(false)</code> disables the
      function.</p>

      <p>Note: Some mobile browsers may also trigger this event when the element

      receives a quick tap.</p>
    path: p5.Element/mouseClicked
  mouseMoved:
    description: >
      <p>Calls a function when the mouse moves over the element.</p>

      <p>Calling <code>myElement.mouseMoved(false)</code> disables the
      function.</p>
    path: p5.Element/mouseMoved
  mouseOver:
    description: >
      <p>Calls a function when the mouse moves onto the element.</p>

      <p>Calling <code>myElement.mouseOver(false)</code> disables the
      function.</p>
    path: p5.Element/mouseOver
  mouseOut:
    description: >
      <p>Calls a function when the mouse moves off the element.</p>

      <p>Calling <code>myElement.mouseOut(false)</code> disables the
      function.</p>
    path: p5.Element/mouseOut
  touchStarted:
    description: >
      <p>Calls a function when the element is touched.</p>

      <p>Calling <code>myElement.touchStarted(false)</code> disables the
      function.</p>

      <p>Note: Touch functions only work on mobile devices.</p>
    path: p5.Element/touchStarted
  touchMoved:
    description: >
      <p>Calls a function when the user touches the element and moves.</p>

      <p>Calling <code>myElement.touchMoved(false)</code> disables the
      function.</p>

      <p>Note: Touch functions only work on mobile devices.</p>
    path: p5.Element/touchMoved
  touchEnded:
    description: >
      <p>Calls a function when the user stops touching the element.</p>

      <p>Calling <code>myElement.touchMoved(false)</code> disables the
      function.</p>

      <p>Note: Touch functions only work on mobile devices.</p>
    path: p5.Element/touchEnded
  dragOver:
    description: >
      <p>Calls a function when a file is dragged over the element.</p>

      <p>Calling <code>myElement.dragOver(false)</code> disables the
      function.</p>
    path: p5.Element/dragOver
  dragLeave:
    description: >
      <p>Calls a function when a file is dragged off the element.</p>

      <p>Calling <code>myElement.dragLeave(false)</code> disables the
      function.</p>
    path: p5.Element/dragLeave
  addClass:
    description: |
      <p>Adds a class to the element.</p>
    path: p5.Element/addClass
  removeClass:
    description: |
      <p>Removes a class from the element.</p>
    path: p5.Element/removeClass
  hasClass:
    description: |
      <p>Checks if a class is already applied to element.</p>
    path: p5.Element/hasClass
  toggleClass:
    description: |
      <p>Toggles whether a class
  mousePressed:
    description: |2-
            <p>当鼠标在元素上按下时调用一个函数。</p>

            <p>调用 <code>myElement.mousePressed(false)</code> 会禁用该函数。</p>

            <p>注意：一些移动浏览器在元素收到快速点击时也可能触发此事件。</p>
    path: p5.Element/mousePressed
  doubleClicked:
    description: |2-
            <p>当鼠标在元素上双击时调用一个函数。</p>

            <p>调用 <code>myElement.doubleClicked(false)</code> 会禁用该函数。</p>
          path: p5.Element/doubleClicked
        mouseWheel:
          description: >
            <p>当鼠标滚轮在元素上滚动时调用一个函数。</p>

            <p>回调函数，<code>fxn</code>，会传递一个 <code>event</code> 对象。 <code>event</code> 有
            两个数字属性，<code>deltaY</code> 和 <code>deltaX</code>。
            如果鼠标滚轮向用户远离方向旋转，<code>event.deltaY</code>
            为负。如果向用户方向旋转，<code>event.deltaY</code> 为正。
            如果鼠标滚轮向右移动，<code>event.deltaX</code> 为正。
            如果鼠标滚轮向左移动，<code>event.deltaX</code> 为负。</p>

            <p>调用 <code>myElement.mouseWheel(false)</code> 会禁用该函数。</p>
    path: p5.Element/doubleClicked
  mouseWheel:
    description: |2-
            <p>当鼠标滚轮在元素上滚动时调用一个函数。</p>

            <p>回调函数，<code>fxn</code>，会传递一个 <code>event</code> 对象。 <code>event</code> 有
            两个数字属性，<code>deltaY</code> 和 <code>deltaX</code>。
            如果鼠标滚轮向用户远离方向旋转，<code>event.deltaY</code>
            为负。如果向用户方向旋转，<code>event.deltaY</code> 为正。
            如果鼠标滚轮向右移动，<code>event.deltaX</code> 为正。
            如果鼠标滚轮向左移动，<code>event.deltaX</code> 为负。</p>

            <p>调用 <code>myElement.mouseWheel(false)</code> 会禁用该函数。</p>
    path: p5.Element/mouseWheel
  mouseReleased:
    description: |2-
            <p>当鼠标在元素上释放时调用一个函数。</p>

            <p>调用 <code>myElement.mouseReleased(false)</code> 会禁用该函数。</p>

            <p>注意：一些移动浏览器在元素收到快速点击时也可能触发此事件。</p>
    path: p5.Element/mouseReleased
  mouseClicked:
    description: |2-
            <p>当鼠标在元素上点击并释放时调用一个函数。</p>

            <p>调用 <code>myElement.mouseReleased(false)</code> 会禁用该函数。</p>

            <p>注意：一些移动浏览器在元素收到快速点击时也可能触发此事件。</p>
    path: p5.Element/mouseClicked
  mouseMoved:
    description: |2-
            <p>当鼠标在元素上移动时调用一个函数。</p>

            <p>调用 <code>myElement.mouseMoved(false)</code> 会禁用该函数。</p>
    path: p5.Element/mouseMoved
  mouseOver:
    description: |2-
            <p>当鼠标移动到元素上时调用一个函数。</p>

            <p>调用 <code>myElement.mouseOver(false)</code> 会禁用该函数。</p>
    path: p5.Element/mouseOver
  mouseOut:
    description: |2-
            <p>当鼠标从元素上移开时调用一个函数。</p>

            <p>调用 <code>myElement.mouseOut(false)</code> 会禁用该函数。</p>
    path: p5.Element/mouseOut
  touchStarted:
    description: |2-
           <p>当元素被触碰时调用一个函数。</p>

            <p>调用 <code>myElement.touchStarted(false)</code> 会禁用该函数。</p>

            <p>注意：触碰功能仅在移动设备上工作。</p>
    path: p5.Element/touchStarted
  touchMoved:
    description: |2-
            <p>当用户触碰元素并移动时调用一个函数。</p>

            <p>调用 <code>myElement.touchMoved(false)</code> 会禁用该函数。</p>

            <p>注意：触碰功能仅在移动设备上工作。</p>
    path: p5.Element/touchMoved
  touchEnded:
    description: |2-
           <p>当用户停止触碰元素时调用一个函数。</p>

            <p>调用 <code>myElement.touchMoved(false)</code> 会禁用该函数。</p>

            <p>注意：触碰功能仅在移动设备上工作。</p>
    path: p5.Element/touchEnded
  dragOver:
    description: |2-
           <p>当用户将文件拖拽到元素上时调用一个函数。</p>

            <p>调用 <code>myElement.dragOver(false)</code> 会禁用该函数。</p>
    path: p5.Element/dragOver
  dragLeave:
    description: |2-
            <p>当用户将文件从元素上拖离时调用一个函数。</p>

            <p>调用 <code>myElement.dragLeave(false)</code> 会禁用该函数。</p>
    path: p5.Element/dragLeave
  addClass:
    description: "      <p>为元素添加一个类。</p>"
    path: p5.Element/addClass
  removeClass:
    description: "      <p>从元素上移除一个类。</p>"
    path: p5.Element/removeClass
  hasClass:
    description: "      <p>检查一个类是否已经应用到元素上。</p>"
    path: p5.Element/hasClass
  toggleClass:
    description: "      <p>切换一个类是否应用到元素上。</p>"
    path: p5.Element/toggleClass
  child:
    description: |2-
           <p>将元素作为另一个元素的子元素附加。</p>

            <p><code>myElement.child()</code> 接受一个字符串 ID、DOM 节点或
            <a href="#/p5.Element">p5.Element</a>。例如，
            <code>myElement.child(otherElement)</code>。如果没有提供参数，返回一个
            子 DOM 节点的数组。</p>
    path: p5.Element/child
  center:
    description: |2-
            <p>将元素居中，可以是垂直的、水平的或两者同时居中。</p>

            <p><code>center()</code> 会根据元素的父元素或者如果元素没有父元素则根据页面的  body 来居中元素。</p>

      <p>如果没有传递参数，如 <code>myElement.center()</code>，元素将在垂直和水平同时对齐。</p>
    path: p5.Element/center
  html:
    description: |2-
           <p>设置元素的内部 HTML，替换任何现有的 HTML。</p>

            <p>第二个参数，<code>append</code>，是可选的。如果传递了
            <code>true</code>，如
            "<code>myElement.html('hi', true)</code>，则 HTML 会被追加而不是"
            替换现有的 HTML。</p>

            <p>如果没有传递参数，如 <code>myElement.html()</code>，则返回元素的内部
            HTML。</p>
    path: p5.Element/html
  position:
    description: |2-
            <p>设置元素的位置。</p>

            <p>前两个参数，<code>x</code> 和 <code>y</code>，设置元素相对于网页左上角的位置。</p>

            <p>第三个参数，<code>positionType</code>，是可选的。它设置元素的
            <a target="_blank"
            href="https://developer.mozilla.org/en-US/docs/Web/CSS/position">定位方案</a>。
            "<code>positionType</code> 是一个字符串，可以是 <code>'static'</code>、<code>'fixed'</code>、"
            "<code>'relative'</code>、<code>'sticky'</code>、<code>'initial'</code> 或 <code>'inherit'</code>。</p>"

            <p>如果没有传递参数，如 <code>myElement.position()</code>，该方法返回元素的位置为一个对象，如 <code>{ x: "0, y: 0 }</code>。</p>"
    path: p5.Element/position
  style:
    description: |2-
          <p>通过添加一个
            <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Syntax"
            target="_blank">CSS 声明</a>来为元素应用一个样式。</p>

            <p>第一个参数，<code>property</code>，是一个字符串。如果传递了一个样式
            "属性的名称，如 <code>myElement.style('color')</code>，方法返回"
            当前值为一个字符串或 <code>null</code> 如果它尚未被设置。如果传递了
            <code>property:style</code> 字符串，如
            "<code>myElement.style('color":"deeppink')</code>，方法设置样式"
            <code>property</code>
            为 <code>value</code>。</p>

            <p>第二个参数，<code>value</code>，是可选的。它设置属性的值。
            <code>value</code> 可以是一个字符串，如
            "<code>myElement.style('color', 'deeppink')</code>，或一个"
            <a href="#/p5.Color">p5.Color</a> 对象，如
            "<code>myElement.style('color', myColor)</code>。</p>"
    path: p5.Element/style
  attribute:
    description: |2-
            <p>为元素添加一个
            <a
            href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Getting_started#attributes"
            target="_blank">属性</a>。</p>

            <p>此方法适用于高级任务。大多数常用属性，
            如 <code>id</code>，可以使用它们的专用方法设置。例如，
            "<code>nextButton.id('next')</code> 设置元素的 <code>id</code>"
            属性。调用
            "<code>nextButton.attribute('id', 'next')</code> 有相同的效果。</p>"

            <p>第一个参数，<code>attr</code>，是属性的名称为一个字符串。调用
            "<code>myElement.attribute('align')</code> 返回属性的当前值为一个"
            字符串或 <code>null</code> 如果它尚未被设置。</p>

            <p>第二个参数，<code>value</code>，是可选的。它是一个字符串用于设置
            属性的值。例如，调用
            "<code>myElement.attribute('align', 'center')</code> 设置元素的水平"
            对齐为 <code>center</code>。</p>
    path: p5.Element/attribute
  removeAttribute:
    description: |2-
            <p>从元素中移除一个属性。</p>

            <p>参数 <code>attr</code> 是属性的名称为一个字符串。例如，
            "调用 <code>myElement.removeAttribute('align')</code> 移除其"
            <code>align</code>
            属性如果它已经被设置。</p>
    path: p5.Element/removeAttribute
  value:
    description: |2-
            <p>返回或设置元素的值。</p>

            <p>调用 <code>myElement.value()</code> 返回元素的当前值。</p>

            <p>参数，<code>value</code>，是一个可选的数字或字符串。如果提供，
            如 <code>myElement.value(123)</code>，它被用来设置元素的值。</p>
    path: p5.Element/value
  show:
    description: "    <p>显示当前元素。</p>"
    path: p5.Element/show
  hide:
    description: "    <p>隐藏当前元素。</p>"
    path: p5.Element/hide
  size:
    description: |2-
            <p>设置元素的宽度和高度。</p>

            <p>调用 <code>myElement.size()</code> 而不传递参数时，返回元素大小为一个对象，包含属性 <code>width</code> 和
            <code>height</code>。例如，
             <code>{ width: "20, height: 10 }</code>。</p>"
            <p>第一个参数，<code>width</code>，是可选的。它是一个数字用于设置元素的宽度。调用 <code>myElement.size(10)</code></p>

            "<p>第二个参数，'height<code>，也是可选的。它是一个数字用于设置元素的高度。例如，调用"
            </code>myElement.size(20, 10)` 将元素的宽度设置为20像素，高度设置为10像素。</p>

            <p>常量 <code>AUTO</code> 可以用来一次调整一个维度，同时保持宽高比，即 <code>width / height</code>。例如，考虑一个宽200像素，高100像素的元素。调用
            <code>myElement.size(20, AUTO)</code> 将宽度设置为20像素，高度
      设置为10像素。</p>

            <p>注意：对于需要加载数据的元素，如图像，请
      等数据加载完成后再调用 <code>myElement.size()</code>。</p>
    path: p5.Element/size
  remove:
    description: "      <p>移除元素，停止所有音频/视频流，并移除所有回调函数。</p>"
    path: p5.Element/remove
  drop:
    description: |2-
         <p>当用户在元素上放置文件时调用一个函数。</p>

            <p>第一个参数，<code>callback</code>，是一旦文件加载就调用的函数。
            回调函数应该有一个参数，<code>file</code>，是一个
            <a href="#/p5.File">p5.File</a> 对象。如果用户在
            元素上放置多个文件，<code>callback</code>，对每个文件调用一次。</p>

            <p>第二个参数，<code>fxn</code>，是当浏览器检测到
            一个或多个放置文件时调用的函数。回调函数应该有一个
            参数，<code>event</code>，是一个
            <a
            href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent">DragEvent</a>。</p>
    path: p5.Element/drop
  draggable:
    description: |2-
           <p>使元素可拖动。</p>

            <p>参数，<code>elmnt</code>，是可选的。如果传递了另一个
            <a href="#/p5.Element">p5.Element</a> 对象，如
            <code>myElement.draggable(otherElement)</code>，则另一个元素将变得可拖动。</p>
    path: p5.Element/draggable
chainable: false
---

# p5.Element

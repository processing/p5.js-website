---
title: spotLight
module: 3D
submodule: 光源
file: src/webgl/light.js
description: >
  <p>创建一个从一个点朝单一方向发出光线的灯光。</p>

  <p>聚光灯类似于手电筒，只朝一个方向发出光线，形成一个锥形光束。可以使用角度和集中度参数来控制锥形的形状。最多可以同时激活 5 个聚光灯。</p>

  <p>有八种调用 <code>spotLight()</code> 的方式，它们用于设置光源的颜色、位置和方向。比如，<code>spotLight(255, 0, 0, 0, 0, 0, 1, 0, 0)</code> 创建了一个红色 <code>(255, 0, 0)</code> 的光源， 位于原点 <code>(0, 0, 0)</code>，指向右侧 <code>(1, 0, 0)</code>。</p>

  <p><code>angle</code>参数是可选的。它设置光锥的半径。 例如， <code>spotLight(255, 0, 0, 0, 0, 0, 1, 0, 0, PI / 16)</code> 创建了一个在原点 <code>(0, 0, 0)</code> 的，红色的 <code>(255, 0, 0)</code> 光；该光以 <code>PI / 16</code> 的角度指向了右侧的<code>(1, 0, 0)</code>。  在默认情况下, <code>angle</code> 是 <code>PI / 3</code> 的弧度。</p>

  <p>参数 <code>concentration</code> 也是可选的。它将光聚焦在光锥的中心。例如，<code>spotLight(255, 0, 0, 0, 0, 0, 1, 0, 0, PI / 16, 50)</code> 创建了一个红色的 <code>(255, 0, 0)</code> 光源，位于原点 <code>(0, 0, 0)</code>，指向右侧 <code>(1, 0, 0)</code>，以 <code>PI / 16</code> 弧度的角度聚焦度为 50。默认情况下，<code>concentration</code> 为 100。</p>
line: 1271
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // 单击并拖动鼠标以从不同角度查看场景。
    // 双击以调整聚光灯。

    let isLit = false;

    function setup() {
      createCanvas(100, 100, WEBGL);

      describe('A white sphere drawn on a gray background. A red spotlight starts shining when the user double-clicks.');
    }

    function draw() {
      background(50);

      // 使用鼠标进行轨道控制。
      orbitControl();

      // 打开灯光。
      lights();

      // 控制聚光灯。
      if (isLit === true) {
        // 添加一个红色聚光灯，照射到屏幕中。
        // 将其角度设置为 PI / 32 弧度。
        spotLight(255, 0, 0, 0, 0, 100, 0, 0, -1, PI / 32);
      }

      // 绘制球体。
      sphere(30);
    }

    // 当用户双击时打开聚光灯。
    function doubleClicked() {
      isLit = true;
    }
    </code>
    </div>

    <div>
    <code>
    // 单击并拖动鼠标以从不同角度查看场景。
    // 双击以调整聚光灯。

    let isLit = false;

    function setup() {
      createCanvas(100, 100, WEBGL);

      describe('A white sphere drawn on a gray background. A red spotlight starts shining when the user double-clicks.');
    }

    function draw() {
      background(50);

      // 使用鼠标进行轨道控制。
      orbitControl();

      // 打开灯光。
      lights();

      // 控制聚光灯。
      if (isLit === true) {
        // 添加一个红色聚光灯，照射到屏幕中。
        // 将其角度设置为 PI / 3 弧度（默认）。
        // 将其聚焦度设置为 1000。
        let c = color(255, 0, 0);
        let position = createVector(0, 0, 100);
        let direction = createVector(0, 0, -1);
        spotLight(c, position, direction, PI / 3, 1000);
      }

      // 绘制球体。
      sphere(30);
    }

    // 当用户双击时打开聚光灯。
    function doubleClicked() {
      isLit = true;
    }
    </code>
    </div>
class: p5
overloads:
  - line: 1271
    params:
      - name: v1
        description: |
          <p>当前 <a href="#/p5/colorMode">colorMode()</a> 中的红色或色相值。</p>
        type: 数字
      - name: v2
        description: |
          <p>当前 <a href="#/p5/colorMode">colorMode()</a> 中的绿色或饱和度值。</p>
        type: 数字
      - name: v3
        description: |
          <p>当前 <a href="#/p5/colorMode">colorMode()</a> 中的蓝色、亮度或明度值。</p>
        type: 数字
      - name: x
        description: |
          <p>光的x坐标。</p>
        type: 数字
      - name: 'y'
        description: |
          <p>光的y坐标。</p>
        type: 数字
      - name: z
        description: |
          <p>光的z坐标。</p>
        type: 数字
      - name: rx
        description: |
          <p>光方向的x分量，取值范围为-1到1。</p>
        type: 数字
      - name: ry
        description: |
          <p>光方向的y分量，取值范围为-1到1。</p>
        type: 数字
      - name: rz
        description: |
          <p>光方向的z分量，取值范围为-1到1。</p>
        type: 数字
      - name: angle
        description: |
          <p>光锥的角度。默认为 <code>PI / 3</code>。</p>
        type: 数字
        optional: true
      - name: concentration
        description: |
          <p>光的聚焦度。默认为100。</p>
        type: 数字
        optional: true
    chainable: 1
  - line: 1398
    params:
      - name: color
        description: |
          <p>可以是 <a href="#/p5.Color">p5.Color</a> 对象、颜色值数组或 CSS 字符串的颜色。</p>
        type: 'p5.Color|数字[]|字符串'
      - name: position
        description: >
          <p>作为 <a href="#/p5.Vector">p5.Vector</a> 对象的光的位置。</p>
        type: p5.Vector
      - name: direction
        description: >
          <p>作为 <a href="#/p5.Vector">p5.Vector</a> 对象的光的方向。 </p>
        type: p5.Vector
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1407
    params:
      - name: v1
        description: ''
        type: 数字
      - name: v2
        description: ''
        type: 数字
      - name: v3
        description: ''
        type: 数字
      - name: position
        description: ''
        type: p5.Vector
      - name: direction
        description: ''
        type: p5.Vector
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1417
    params:
      - name: color
        description: ''
        type: 'p5.Color|数字[]|字符串'
      - name: x
        description: ''
        type: 数字
      - name: 'y'
        description: ''
        type: 数字
      - name: z
        description: ''
        type: 数字
      - name: direction
        description: ''
        type: p5.Vector
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1427
    params:
      - name: color
        description: ''
        type: 'p5.Color|数字[]|字符串'
      - name: position
        description: ''
        type: p5.Vector
      - name: rx
        description: ''
        type: 数字
      - name: ry
        description: ''
        type: 数字
      - name: rz
        description: ''
        type: 数字
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1437
    params:
      - name: v1
        description: ''
        type: 数字
      - name: v2
        description: ''
        type: 数字
      - name: v3
        description: ''
        type: 数字
      - name: x
        description: ''
        type: 数字
      - name: 'y'
        description: ''
        type: 数字
      - name: z
        description: ''
        type: 数字
      - name: direction
        description: ''
        type: p5.Vector
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1449
    params:
      - name: v1
        description: ''
        type: 数字
      - name: v2
        description: ''
        type: 数字
      - name: v3
        description: ''
        type: 数字
      - name: position
        description: ''
        type: p5.Vector
      - name: rx
        description: ''
        type: 数字
      - name: ry
        description: ''
        type: 数字
      - name: rz
        description: ''
        type: 数字
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
  - line: 1461
    params:
      - name: color
        description: ''
        type: 'p5.Color|数字[]|字符串'
      - name: x
        description: ''
        type: 数字
      - name: 'y'
        description: ''
        type: 数字
      - name: z
        description: ''
        type: 数字
      - name: rx
        description: ''
        type: 数字
      - name: ry
        description: ''
        type: 数字
      - name: rz
        description: ''
        type: 数字
      - name: angle
        description: ''
        type: 数字
        optional: true
      - name: concentration
        description: ''
        type: 数字
        optional: true
chainable: true
---


# spotLight

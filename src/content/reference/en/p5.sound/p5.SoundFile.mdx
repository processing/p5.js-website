---
title: p5.SoundFile
module: p5.sound
submodule: SoundFile
file: src/SoundFile.js
description: Load and play sound files.
line: 60
isConstructor: true
example:
  - |-

    <div>
    <code>
    let sound, amp, delay, cnv;

    function preload() {
      //replace this sound with something local with rights to distribute
      //need to fix local asset loading first though :) 
      sound = loadSound('//assets/doorbell.mp3');
    }

    function setup() {
      cnv = createCanvas(100, 100);
      textAlign(CENTER);
      cnv.mousePressed(playSound);
      amp = new p5.Amplitude();
      delay = new p5.Delay();
      sound.disconnect();
      sound.connect(delay);
      delay.connect(amp);
    }

    function playSound() {
      sound.play();
    }

    function draw() {
      let dtime = map(mouseX, 0, width, 0, 1);
      delay.delayTime(dtime);
      let f = map(mouseY, 0, height, 0, .75);
      delay.feedback(f);
      let level = map(amp.getLevel(), 0, 0.5, 0, 255);
      background(level, 0, 0);
      fill(255);
      text('click to play', width/2, 20);
     }
    </code>
    </div>
methods:
  isLoaded:
    description: |
      <p>Returns true if the sound file finished loading successfully.</p>
    path: p5.SoundFile/isLoaded
  play:
    description: Start the soundfile.
    path: p5.SoundFile/play
  playMode:
    description: |
      <p>p5.SoundFile has two play modes: <code>restart</code> and
      <code>sustain</code>. Play Mode determines what happens to a
      p5.SoundFile if it is triggered while in the middle of playback.
      In sustain mode, playback will continue simultaneous to the
      new playback. In restart mode, play() will stop playback
      and start over. With untilDone, a sound will play only if it's
      not already playing. Sustain is the default mode.</p>
    path: p5.SoundFile/playMode
  pause:
    description: Pause the soundfile.
    path: p5.SoundFile/pause
  loop:
    description: Loop the soundfile.
    path: p5.SoundFile/loop
  setLoop:
    description: >-
      Set a loop region, and optionally a playback rate, and amplitude for the
      soundfile.
    path: p5.SoundFile/setLoop
  isLooping:
    description: Return the playback state of the soundfile.
    path: p5.SoundFile/isLooping
  isPlaying:
    description: Return the playback state of the soundfile.
    path: p5.SoundFile/isPlaying
  isPaused:
    description: |
      <p>Returns true if a p5.SoundFile is paused, false if not (i.e.
      playing or stopped).</p>
    path: p5.SoundFile/isPaused
  stop:
    description: Stop the soundfile.
    path: p5.SoundFile/stop
  pan:
    description: |
      <p>Set the stereo panning of a p5.sound object to
      a floating point number between -1.0 (left) and 1.0 (right).
      Default is 0.0 (center).</p>
    path: p5.SoundFile/pan
  getPan:
    description: |
      <p>Returns the current stereo pan position (-1.0 to 1.0)</p>
    path: p5.SoundFile/getPan
  rate:
    description: Set the playback rate of the soundfile.
    path: p5.SoundFile/rate
  setVolume:
    description: |
      <p>Multiply the output volume (amplitude) of a sound file
      between 0.0 (silence) and 1.0 (full volume).
      1.0 is the maximum amplitude of a digital sound, so multiplying
      by greater than 1.0 may cause digital distortion. To
      fade, provide a <code>rampTime</code> parameter. For more
      complex fades, see the Envelope class.</p>
      <p>Alternately, you can pass in a signal source such as an
      oscillator to modulate the amplitude with an audio signal.</p>
    path: p5.SoundFile/setVolume
  duration:
    description: Returns the duration of a sound file in seconds.
    path: p5.SoundFile/duration
  currentTime:
    description: >
      <p>Return the current position of the p5.SoundFile playhead, in seconds.

      Time is relative to the normal buffer direction, so if
      <code>reverseBuffer</code>

      has been called, currentTime will count backwards.</p>
    path: p5.SoundFile/currentTime
  jump:
    description: >-
      Move the playhead of a soundfile that is currently playing to a new
      position.
    path: p5.SoundFile/jump
  channels:
    description: Gets the number of channels in the sound file.
    path: p5.SoundFile/channels
  sampleRate:
    description: Gets the number of channels in the sound file.
    path: p5.SoundFile/sampleRate
  frames:
    description: Return the number of samples in a sound file.
    path: p5.SoundFile/frames
  getPeaks:
    description: |
      <p>Returns an array of amplitude peaks in a p5.SoundFile that can be
      used to draw a static waveform. Scans through the p5.SoundFile's
      audio buffer to find the greatest amplitudes. Accepts one
      parameter, 'length', which determines size of the array.
      Larger arrays result in more precise waveform visualizations.</p>
      <p>Inspired by Wavesurfer.js.</p>
    path: p5.SoundFile/getPeaks
  reverseBuffer:
    description: |
      <p>Reverses the p5.SoundFile's buffer source.
      Playback must be handled separately (see example).</p>
    path: p5.SoundFile/reverseBuffer
  onended:
    description: Define a function to call when the soundfile is done playing.
    path: p5.SoundFile/onended
  connect:
    description: |
      <p>Connects the output of a p5sound object to input of another
      p5.sound object. For example, you may connect a p5.SoundFile to an
      FFT or an Effect. If no parameter is given, it will connect to
      the main output. Most p5sound objects connect to the master
      output when they are created.</p>
    path: p5.SoundFile/connect
  disconnect:
    description: |
      <p>Disconnects the output of this p5sound object.</p>
    path: p5.SoundFile/disconnect
  setPath:
    description: Change the path for the soundfile.
    path: p5.SoundFile/setPath
  setBuffer:
    description: |
      <p>Replace the current Audio Buffer with a new Buffer.</p>
    path: p5.SoundFile/setBuffer
  addCue:
    description: |
      <p>Schedule events to trigger every time a MediaElement
      (audio/video) reaches a playback cue point.</p>
      <p>Accepts a callback function, a time (in seconds) at which to trigger
      the callback, and an optional parameter for the callback.</p>
      <p>Time will be passed as the first parameter to the callback function,
      and param will be the second parameter.</p>
    path: p5.SoundFile/addCue
  removeCue:
    description: |
      <p>Remove a callback based on its ID. The ID is returned by the
      addCue method.</p>
    path: p5.SoundFile/removeCue
  clearCues:
    description: |
      <p>Remove all of the callbacks that had originally been scheduled
      via the addCue method.</p>
    path: p5.SoundFile/clearCues
  save:
    description: |
      <p>Save a p5.SoundFile as a .wav file. The browser will prompt the user
      to download the file to their device. To upload a file to a server, see
      <a href="/reference//p5.SoundFile/getBlob/">getBlob</a></p>
    path: p5.SoundFile/save
  getBlob:
    description: >
      <p>This method is useful for sending a SoundFile to a server. It returns
      the

      .wav-encoded audio data as a "<a target="_blank" title="Blob reference at

      MDN"
      href="https://developer.mozilla.org/en-US/docs/Web/API/Blob/">Blob</a>".

      A Blob is a file-like data object that can be uploaded to a server

      with an <a href="/reference//p5/httpDo/">http</a> request. We'll

      use the <code>httpDo</code> options object to send a POST request with
      some

      specific options: we encode the request as
      <code>multipart/form-data</code>,

      and attach the blob as one of the form values using
      <code>FormData</code>.</p>
    path: p5.SoundFile/getBlob
  start:
    description: Start the soundfile.
    path: p5.SoundFile/start
  amp:
    description: Adjust the amplitude of the soundfile.
    path: p5.SoundFile/amp
chainable: false
---


# p5.SoundFile

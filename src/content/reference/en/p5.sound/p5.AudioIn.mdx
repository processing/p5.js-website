---
title: p5.AudioIn
module: p5.sound
submodule: p5.sound
file: lib/addons/p5.sound.js
description: >-
  <p>Get audio from an input, i.e. your computer's microphone.</p>


  <p>Turn the mic on/off with the start() and stop() methods. When the mic

  is on, its volume can be measured with getLevel or by connecting an

  FFT object.</p>


  <p>If you want to hear the AudioIn, use the .connect() method.

  AudioIn does not connect to p5.sound output by default to prevent

  feedback.</p>


  <p><em>Note: This uses the <a href="http://caniuse.com/stream">getUserMedia/

  Stream</a> API, which is not supported by certain browsers. Access in Chrome
  browser

  is limited to localhost and https, but access over http may be
  limited.</em></p>
line: 6015
isConstructor: true
params:
  - name: errorCallback
    description: |
      <p>A function to call if there is an error
                                        accessing the AudioIn. For example,
                                        Safari and iOS devices do not
                                        currently allow microphone access.</p>
    type: Function
    optional: true
example:
  - |-

    <div><code>
    let mic;

     function setup(){
      let cnv = createCanvas(100, 100);
      cnv.mousePressed(userStartAudio);
      textAlign(CENTER);
      mic = new p5.AudioIn();
      mic.start();
    }

    function draw(){
      background(0);
      fill(255);
      text('tap to start', width/2, 20);

      micLevel = mic.getLevel();
      let y = height - micLevel * height;
      ellipse(width/2, y, 10, 10);
    }
    </code></div>
methods:
  start:
    description: |
      <p>Start processing audio input. This enables the use of other
      AudioIn methods like getLevel(). Note that by default, AudioIn
      is not connected to p5.sound's output. So you won't hear
      anything unless you use the connect() method.<br/></p>
      <p>Certain browsers limit access to the user's microphone. For example,
      Chrome only allows access from localhost and over https. For this reason,
      you may want to include an errorCallbackâ€”a function that is called in case
      the browser won't provide mic access.</p>
    path: p5.AudioIn/start
  stop:
    description: |
      <p>Turn the AudioIn off. If the AudioIn is stopped, it cannot getLevel().
      If re-starting, the user may be prompted for permission access.</p>
    path: p5.AudioIn/stop
  connect:
    description: |
      <p>Connect to an audio unit. If no parameter is provided, will
      connect to the main output (i.e. your speakers).<br/></p>
    path: p5.AudioIn/connect
  disconnect:
    description: |
      <p>Disconnect the AudioIn from all audio units. For example, if
      connect() had been called, disconnect() will stop sending
      signal to your speakers.<br/></p>
    path: p5.AudioIn/disconnect
  getLevel:
    description: |
      <p>Read the Amplitude (volume level) of an AudioIn. The AudioIn
      class contains its own instance of the Amplitude class to help
      make it easy to get a microphone's volume level. Accepts an
      optional smoothing value (0.0 < 1.0). <em>NOTE: AudioIn must
      .start() before using .getLevel().</em><br/></p>
    path: p5.AudioIn/getLevel
  amp:
    description: |
      <p>Set amplitude (volume) of a mic input between 0 and 1.0. <br/></p>
    path: p5.AudioIn/amp
  getSources:
    description: |
      <p>Returns a list of available input sources. This is a wrapper
      for <a href="https://developer.mozilla.org/
      en-US/docs/Web/API/MediaDevices/enumerateDevices" target="_blank">
      MediaDevices.enumerateDevices() - Web APIs | MDN</a>
      and it returns a Promise.</p>
    path: p5.AudioIn/getSources
  setSource:
    description: |
      <p>Set the input source. Accepts a number representing a
      position in the array returned by getSources().
      This is only available in browsers that support
       <a href="https://developer.mozilla.org/
       en-US/docs/Web/API/MediaDevices/enumerateDevices" target="_blank">
       navigator.mediaDevices.enumerateDevices()</a></p>
    path: p5.AudioIn/setSource
properties:
  input:
    description: ''
    path: p5.AudioIn/input
  output:
    description: ''
    path: p5.AudioIn/output
  stream:
    description: ''
    path: p5.AudioIn/stream
  mediaStream:
    description: ''
    path: p5.AudioIn/mediaStream
  currentSource:
    description: ''
    path: p5.AudioIn/currentSource
  enabled:
    description: |
      <p>Client must allow browser to access their microphone / audioin source.
      Default: false. Will become true when the client enables access.</p>
    path: p5.AudioIn/enabled
  amplitude:
    description: |
      <p>Input amplitude, connect to it by default but not to master out</p>
    path: p5.AudioIn/amplitude
chainable: false
---


# p5.AudioIn

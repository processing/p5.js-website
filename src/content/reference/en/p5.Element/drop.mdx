---
title: drop
module: DOM
submodule: DOM
file: src/dom/dom.js
description: >
  <p>Calls a function when the user drops a file on the element.</p>

  <p>The first parameter, <code>callback</code>, is a function to call once the
  file loads.

  The callback function should have one parameter, <code>file</code>, that's a

  <a href="/reference/p5/p5.File">p5.File</a> object. If the user drops multiple
  files on

  the element, <code>callback</code>, is called once for each file.</p>

  <p>The second parameter, <code>fxn</code>, is a function to call when the
  browser detects

  one or more dropped files. The callback function should have one

  parameter, <code>event</code>, that's a

  <a
  href="https://developer.mozilla.org/en-US/docs/Web/API/DragEvent">DragEvent</a>.</p>
line: 3772
isConstructor: false
itemtype: method
example:
  - |-

    <div>
    <code>
    // Drop an image on the canvas to view
    // this example.
    let img;

    function setup() {
      let c = createCanvas(100, 100);

      background(200);

      // Call handleFile() when a file that's dropped on the canvas has loaded.
      c.drop(handleFile);

      describe('A gray square. When the user drops an image on the square, it is displayed.');
    }

    // Remove the existing image and display the new one.
    function handleFile(file) {
      // Remove the current image, if any.
      if (img) {
        img.remove();
      }

      // Create an <img> element with the
      // dropped file.
      img = createImg(file.data, '');
      img.hide();

      // Draw the image.
      image(img, 0, 0, width, height);
    }
    </code>
    </div>

    <div>
    <code>
    // Drop an image on the canvas to view
    // this example.
    let img;
    let msg;

    function setup() {
      let c = createCanvas(100, 100);

      background(200);

      // Call functions when the user drops a file on the canvas
      // and when the file loads.
      c.drop(handleFile, handleDrop);

      describe('A gray square. When the user drops an image on the square, it is displayed. The id attribute of canvas element is also displayed.');
    }

    // Display the image when it loads.
    function handleFile(file) {
      // Remove the current image, if any.
      if (img) {
        img.remove();
      }

      // Create an img element with the dropped file.
      img = createImg(file.data, '');
      img.hide();

      // Draw the image.
      image(img, 0, 0, width, height);
    }

    // Display the file's name when it loads.
    function handleDrop(event) {
      // Remove current paragraph, if any.
      if (msg) {
        msg.remove();
      }

      // Use event to get the drop target's id.
      let id = event.target.id;

      // Write the canvas' id beneath it.
      msg = createP(id);
      msg.position(0, 100);

      // Set the font color randomly for each drop.
      let c = random(['red', 'green', 'blue']);
      msg.style('color', c);
      msg.style('font-size', '12px');
    }
    </code>
    </div>
class: p5.Element
params:
  - name: callback
    description: |
      <p>called when a file loads. Called once for each file dropped.</p>
    type: Function
  - name: fxn
    description: |
      <p>called once when any files are dropped.</p>
    type: Function
    optional: true
chainable: true
---


# drop

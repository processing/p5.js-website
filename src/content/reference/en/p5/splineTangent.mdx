---
title: splineTangent
module: Shape
submodule: Curves
file: src/shape/curves.js
description: >
  <p>Calculates coordinates along a line that's tangent to a spline curve.</p>

  <p>Tangent lines skim the surface of a curve. A tangent line's slope equals

  the curve's slope at the point where it intersects.</p>

  <p><code>splineTangent()</code> calculates coordinates along a tangent line
  using four

  points p0, p1, p2, p3. It expects points in the same order as the

  <a href="/reference/p5/spline/">spline()</a> function.
  <code>splineTangent()</code> works one

  axis at a time. Passing the points' x-coordinates returns the x-component of

  the tangent vector; passing the points' y-coordinates returns the y-component.

  The first parameter, <code>a</code>, is the coordinate of point p0.</p>

  <p>The second and third parameters, <code>b</code> and <code>c</code>, are the
  coordinates of

  points p1 and p2.</p>

  <p>The fourth parameter, <code>d</code>, is the coordinate of point p3.</p>

  <p>The fifth parameter, <code>t</code>, is the amount to interpolate along the
  span

  from p1 to p2. <code>t = 0</code> is p1, <code>t = 1</code> is p2, and <code>t
  = 0.5</code> is halfway

  between them.</p>
line: 1005
isConstructor: false
itemtype: method
example:
  - |-
    function setup() {
      createCanvas(120, 120);
      describe('A black spline on a gray canvas. A red dot moves along the curve on its own. A short line shows the tangent direction at the dot.');
    }

    function draw() {
      background(240);

      const x1 = 15, y1 = 40;
      const x2 = 90, y2 = 25;
      const x3 = 95, y3 = 95;
      const x4 = 30, y4 = 110;

      noFill();
      stroke(0);
      strokeWeight(2);
      spline(x1, y1, x2, y2, x3, y3, x4, y4);

      const t = 0.5 + 0.5 * sin(frameCount * 0.03);

      const px = splinePoint(x1, x2, x3, x4, t);
      const py = splinePoint(y1, y2, y3, y4, t);

      let tx = splineTangent(x1, x2, x3, x4, t);
      let ty = splineTangent(y1, y2, y3, y4, t);

      const m = Math.hypot(tx, ty) || 1;
      tx = (tx / m) * 16;
      ty = (ty / m) * 16;

      stroke(0);
      strokeWeight(2);
      line(px, py, px + tx, py + ty);

      noStroke();
      fill('red');
      circle(px, py, 7);
    }
  - |-
    function setup() {
      createCanvas(100, 100);

      background(200);

      // Set the coordinates for the curve's four points (p0, p1, p2, p3).
      let x1 = 5;
      let y1 = 26;
      let x2 = 73;
      let y2 = 24;
      let x3 = 73;
      let y3 = 61;
      let x4 = 15;
      let y4 = 65;

      // Draw the curve.
      noFill();
      spline(x1, y1, x2, y2, x3, y3, x4, y4);

      // Draw tangents along the curve's path.
      fill(255);

      // Top circle.
      stroke(0);
      let x = splinePoint(x1, x2, x3, x4, 0);
      let y = splinePoint(y1, y2, y3, y4, 0);
      circle(x, y, 5);

      // Top tangent line.
      // Scale the tangent point to draw a shorter line.
      stroke(255, 0, 0);
      let tx = 0.2 * splineTangent(x1, x2, x3, x4, 0);
      let ty = 0.2 * splineTangent(y1, y2, y3, y4, 0);
      line(x + tx, y + ty, x - tx, y - ty);

      // Center circle.
      stroke(0);
      x = splinePoint(x1, x2, x3, x4, 0.5);
      y = splinePoint(y1, y2, y3, y4, 0.5);
      circle(x, y, 5);

      // Center tangent line.
      // Scale the tangent point to draw a shorter line.
      stroke(255, 0, 0);
      tx = 0.2 * splineTangent(x1, x2, x3, x4, 0.5);
      ty = 0.2 * splineTangent(y1, y2, y3, y4, 0.5);
      line(x + tx, y + ty, x - tx, y - ty);

      // Bottom circle.
      stroke(0);
      x = splinePoint(x1, x2, x3, x4, 1);
      y = splinePoint(y1, y2, y3, y4, 1);
      circle(x, y, 5);

      // Bottom tangent line.
      // Scale the tangent point to draw a shorter line.
      stroke(255, 0, 0);
      tx = 0.2 * splineTangent(x1, x2, x3, x4, 1);
      ty = 0.2 * splineTangent(y1, y2, y3, y4, 1);
      line(x + tx, y + ty, x - tx, y - ty);

      describe(
        'A black curve on a gray square. A white circle moves back and forth along the curve.'
      );
    }
class: p5
return:
  description: coordinate of a point on the tangent line.
  type: Number
overloads:
  - params:
      - name: a
        description: coordinate of point p0.
        type: Number
      - name: b
        description: coordinate of point p1.
        type: Number
      - name: c
        description: coordinate of point p2.
        type: Number
      - name: d
        description: coordinate of point p3.
        type: Number
      - name: t
        description: amount to interpolate between 0 and 1.
        type: Number
    return:
      description: coordinate of a point on the tangent line.
      type: Number
chainable: false
---


# splineTangent

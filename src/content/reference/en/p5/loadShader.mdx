---
title: loadShader
module: 3D
submodule: Material
file: src/webgl/material.js
description: >
  <p>Loads vertex and fragment shaders to create a

  <a href="/reference/p5/p5.Shader">p5.Shader</a> object.</p>

  <p>Shaders are programs that run on the graphics processing unit (GPU). They

  can process many pixels at the same time, making them fast for many

  graphics tasks. Theyâ€™re written in a language called

  <a
  href="https://developer.mozilla.org/en-US/docs/Games/Techniques/3D_on_the_web/GLSL_Shaders/"
  target="_blank">GLSL</a>

  and run along with the rest of the code in a sketch.</p>

  <p>Once the <a href="/reference/p5/p5.Shader">p5.Shader</a> object is created,
  it can be

  used with the <a href="/reference/p5/shader/">shader()</a> function, as in

  <code>shader(myShader)</code>. A shader program consists of two files, a
  vertex shader

  and a fragment shader. The vertex shader affects where 3D geometry is drawn

  on the screen and the fragment shader affects color.</p>

  <p><code>loadShader()</code> loads the vertex and fragment shaders from their
  <code>.vert</code> and

  <code>.frag</code> files. For example, calling

  <code>loadShader('/assets/shader.vert', '/assets/shader.frag')</code> loads
  both

  required shaders and returns a <a href="/reference/p5/p5.Shader">p5.Shader</a>
  object.</p>

  <p>The third parameter, <code>successCallback</code>, is optional. If a
  function is

  passed, it will be called once the shader has loaded. The callback function

  can use the new <a href="/reference/p5/p5.Shader">p5.Shader</a> object as its

  parameter.</p>

  <p>The fourth parameter, <code>failureCallback</code>, is also optional. If a
  function is

  passed, it will be called if the shader fails to load. The callback

  function can use the event error as its parameter.</p>

  <p>Shaders can take time to load. Calling <code>loadShader()</code> in

  <a href="/reference/p5/preload/">preload()</a> ensures shaders load before
  they're

  used in <a href="/reference/p5/setup/">setup()</a> or <a
  href="/reference/p5/draw/">draw()</a>.</p>

  <p>Note: Shaders can only be used in WebGL mode.</p>
line: 12
isConstructor: false
itemtype: method
example:
  - |-

    <div modernizr='webgl'>
    <code>
    // Note: A "uniform" is a global variable within a shader program.

    let mandelbrot;

    // Load the shader and create a p5.Shader object.
    function preload() {
      mandelbrot = loadShader('/assets/shader.vert', '/assets/shader.frag');
    }

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Compile and apply the p5.Shader object.
      shader(mandelbrot);

      // Set the shader uniform p to an array.
      mandelbrot.setUniform('p', [-0.74364388703, 0.13182590421]);

      // Set the shader uniform r to the value 1.5.
      mandelbrot.setUniform('r', 1.5);

      // Add a quad as a display surface for the shader.
      quad(-1, -1, 1, -1, 1, 1, -1, 1);

      describe('A black fractal image on a magenta background.');
    }
    </code>
    </div>

    <div>
    <code>
    // Note: A "uniform" is a global variable within a shader program.

    let mandelbrot;

    // Load the shader and create a p5.Shader object.
    function preload() {
      mandelbrot = loadShader('/assets/shader.vert', '/assets/shader.frag');
    }

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Use the p5.Shader object.
      shader(mandelbrot);

      // Set the shader uniform p to an array.
      mandelbrot.setUniform('p', [-0.74364388703, 0.13182590421]);

      describe('A fractal image zooms in and out of focus.');
    }

    function draw() {
      // Set the shader uniform r to a value that oscillates between 0 and 2.
      mandelbrot.setUniform('r', sin(frameCount * 0.01) + 1);

      // Add a quad as a display surface for the shader.
      quad(-1, -1, 1, -1, 1, 1, -1, 1);
    }
    </code>
    </div>
class: p5
params:
  - name: vertFilename
    description: |
      <p>path of the vertex shader to be loaded.</p>
    type: String
  - name: fragFilename
    description: |
      <p>path of the fragment shader to be loaded.</p>
    type: String
  - name: successCallback
    description: |
      <p>function to call once the shader is loaded. Can be passed the
                                          <a href="#/p5.Shader">p5.Shader</a> object.</p>
    type: Function
    optional: true
  - name: failureCallback
    description: |
      <p>function to call if the shader fails to load. Can be passed an
                                          <code>Error</code> event object.</p>
    type: Function
    optional: true
return:
  description: new shader created from the vertex and fragment shader files.
  type: p5.Shader
chainable: false
---


# loadShader

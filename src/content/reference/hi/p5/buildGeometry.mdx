---
title: buildGeometry
<<<<<<< HEAD
module: आकार
submodule: 3D आदिम
file: src/webgl/3d_primitives.js
description: >
  <p>एक नया <a href="/reference/p5/p5.Geometry">p5.Geometry</a> बनाता है जिसमें दिए गए कॉलबैक फ़ंक्शन में खींची गई सभी आकृतियाँ शामिल होती हैं।

  लौटाई गई संयुक्त आकृति को <a href="/reference/p5/model">model()</a> का उपयोग करके एक साथ खींचा जा सकता है।</p>

  <p>यदि आपको हर फ्रेम में जटिल आकृतियाँ बनाने की ज़रूरत है जो समय के साथ नहीं बदलती हैं, तो उन्हें एक बार <code>buildGeometry()</code> के साथ संयोजित करें और फिर ड्राइंग बनाएं | ये अलग-अलग टुकड़ों को बार-बार खींचने की तुलना में तेज़ चलेगी।</p>

  <p>कोई सीधे <a href="/reference/p5/beginGeometry">beginGeometry()</a> और <a href="/reference/p5/endGeometry">endGeometry()</a> के बीच भी आकृतियाँ बना सकता है, कॉलबैक फ़ंक्शन का उपयोग करने के बजाय।</p>
line: 102
isConstructor: false
itemtype: तरीका
alt: गोले का एक समूह
=======
module: Shape
submodule: 3D Primitives
file: src/webgl/3d_primitives.js
description: >
  <p>Creates a custom <a href="/reference/p5/p5.Geometry">p5.Geometry</a> object
  from

  simpler 3D shapes.</p>

  <p><code>buildGeometry()</code> helps with creating complex 3D shapes from
  simpler ones

  such as <a href="/reference/p5/sphere">sphere()</a>. It can help to make
  sketches

  more performant. For example, if a complex 3D shape doesn’t change while a

  sketch runs, then it can be created with <code>buildGeometry()</code>.
  Creating a

  <a href="/reference/p5/p5.Geometry">p5.Geometry</a> object once and then
  drawing it

  will run faster than repeatedly drawing the individual pieces.</p>

  <p>The parameter, <code>callback</code>, is a function with the drawing
  instructions for

  the new <a href="/reference/p5/p5.Geometry">p5.Geometry</a> object. It will be
  called

  once to create the new 3D shape.</p>

  <p>See <a href="/reference/p5/beginGeometry">beginGeometry()</a> and

  <a href="/reference/p5/endGeometry">endGeometry()</a> for another way to build
  3D

  shapes.</p>

  <p>Note: <code>buildGeometry()</code> can only be used in WebGL mode.</p>
line: 520
isConstructor: false
itemtype: method
>>>>>>> d92abe86a6be46eb4f9114440e434084a9b67f86
example:
  - |-

    <div>
    <code>
<<<<<<< HEAD
    let particles;
    let button;

    function setup() {
      createCanvas(100, 100, WEBGL);
      button = createButton('New');
      button.mousePressed(makeParticles);
      makeParticles();
    }

    function makeParticles() {
      if (particles) freeGeometry(particles);

      particles = buildGeometry(() => {
        for (let i = 0; i < 60; i++) {
          push();
          translate(
            randomGaussian(0, 20),
            randomGaussian(0, 20),
            randomGaussian(0, 20)
          );
          sphere(5);
          pop();
        }
      });
    }

    function draw() {
      background(255);
      noStroke();
      lights();
      orbitControl();
      model(particles);
    }
=======
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Create the p5.Geometry object.
      shape = buildGeometry(createShape);

      describe('A white cone drawn on a gray background.');
    }

    function draw() {
      background(50);

      // Enable orbiting with the mouse.
      orbitControl();

      // Turn on the lights.
      lights();

      // Style the p5.Geometry object.
      noStroke();

      // Draw the p5.Geometry object.
      model(shape);
    }

    // Create p5.Geometry object from a single cone.
    function createShape() {
      cone();
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Create the arrow.
      shape = buildGeometry(createArrow);

      describe('A white arrow drawn on a gray background.');
    }

    function draw() {
      background(50);

      // Enable orbiting with the mouse.
      orbitControl();

      // Turn on the lights.
      lights();

      // Style the arrow.
      noStroke();

      // Draw the arrow.
      model(shape);
    }

    function createArrow() {
      // Add shapes to the p5.Geometry object.
      push();
      rotateX(PI);
      cone(10);
      translate(0, -10, 0);
      cylinder(3, 20);
      pop();
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let shape;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Create the p5.Geometry object.
      shape = buildGeometry(createArrow);

      describe('Two white arrows drawn on a gray background. The arrow on the right rotates slowly.');
    }

    function draw() {
      background(50);

      // Enable orbiting with the mouse.
      orbitControl();

      // Turn on the lights.
      lights();

      // Style the arrows.
      noStroke();

      // Draw the p5.Geometry object.
      model(shape);

      // Translate and rotate the coordinate system.
      translate(30, 0, 0);
      rotateZ(frameCount * 0.01);

      // Draw the p5.Geometry object again.
      model(shape);
    }

    function createArrow() {
      // Add shapes to the p5.Geometry object.
      push();
      rotateX(PI);
      cone(10);
      translate(0, -10, 0);
      cylinder(3, 20);
      pop();
    }
    </code>
    </div>

    <div>
    <code>
    // Click and drag the mouse to view the scene from different angles.

    let button;
    let particles;

    function setup() {
      createCanvas(100, 100, WEBGL);

      // Create a button to reset the particle system.
      button = createButton('Reset');

      // Call resetModel() when the user presses the button.
      button.mousePressed(resetModel);

      // Add the original set of particles.
      resetModel();

      describe('A set of white spheres on a gray background. The spheres are positioned randomly. Their positions reset when the user presses the Reset button.');
    }

    function draw() {
      background(50);

      // Enable orbiting with the mouse.
      orbitControl();

      // Turn on the lights.
      lights();

      // Style the particles.
      noStroke();

      // Draw the particles.
      model(particles);
    }

    function resetModel() {
      // If the p5.Geometry object has already been created,
      // free those resources.
      if (particles) {
        freeGeometry(particles);
      }

      // Create a new p5.Geometry object with random spheres.
      particles = buildGeometry(createParticles);
    }

    function createParticles() {
      for (let i = 0; i < 60; i += 1) {
        // Calculate random coordinates.
        let x = randomGaussian(0, 20);
        let y = randomGaussian(0, 20);
        let z = randomGaussian(0, 20);

        push();
        // Translate to the particle's coordinates.
        translate(x, y, z);
        // Draw the particle.
        sphere(5);
        pop();
      }
    }
>>>>>>> d92abe86a6be46eb4f9114440e434084a9b67f86
    </code>
    </div>
class: p5
params:
  - name: callback
    description: |
<<<<<<< HEAD
      <p>एक फ़ंक्शन जो आकृतियाँ बनाता है।</p>
    type: फ़ंक्शन
return:
  description: वह मॉडल जो कॉलबैक फ़ंक्शन से बनाया गया था।
=======
      <p>function that draws the shape.</p>
    type: Function
return:
  description: new 3D shape.
>>>>>>> d92abe86a6be46eb4f9114440e434084a9b67f86
  type: p5.Geometry
chainable: false
---

<<<<<<< HEAD
=======

>>>>>>> d92abe86a6be46eb4f9114440e434084a9b67f86
# buildGeometry

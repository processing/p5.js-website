---
import type { CollectionEntry } from "astro:content";

import BaseLayout from "./BaseLayout.astro";
import GridItemEvent from "@components/GridItem/Event.astro";
import PaginationNav from "@components/PaginationNav/index.astro";
import { eventsPerPage } from "../globals/globals";
import { setJumpToState } from "../globals/state";

interface Props {
  entries: CollectionEntry<"past-events">[];
  totalNumEvents: number;
  currentPage: number;
}

const { entries, totalNumEvents, currentPage } = Astro.props;
setJumpToState(null);
---

<BaseLayout title="Events" variant="item" topic="community">
  <ul class="grid grid-cols-2 gap-y-xl gap-x-md lg:grid-cols-4">
    {entries.map((entry) => <GridItemEvent item={entry} />)}
  </ul>
  <PaginationNav
    maxNumItems={totalNumEvents}
    itemsPerPage={eventsPerPage}
    currentPage={currentPage}
    sectionUrlPrefix="/past-events"
  />
</BaseLayout>

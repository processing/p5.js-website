---
import SearchProvider from "@components/SearchProvider";
import Head from "@components/Head/index.astro";
import { getCurrentLocale, getUiTranslationWithFallback } from "@i18n/utils";
import BaseLayout from "./BaseLayout.astro";
import { setJumpToState } from "../globals/state";

const currentLocale = getCurrentLocale(Astro.url.pathname);
const { title } = Astro.props;
const uiTranslations = await getUiTranslationWithFallback(currentLocale);
setJumpToState(null);
---

<Head title={"Search"} locale={currentLocale} />

<BaseLayout title={title} variant="search">
  <h1 class="sr-only">Search Results</h1>
  <SearchProvider
    client:only
    currentLocale={currentLocale}
    uiTranslations={uiTranslations}
  />
</BaseLayout>
